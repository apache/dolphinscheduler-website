{
  "filename": "frontend-deployment.md",
  "__html": "<h1>前端部署文档</h1>\n<p>前端有3种部署方式，分别为自动化部署，手动部署和编译源码部署</p>\n<h2>1、准备工作</h2>\n<h4>下载安装包</h4>\n<p>请下载最新版本的安装包，下载地址： <a href=\"/zh-cn/download/download.html\">下载</a></p>\n<p>下载 apache-dolphinscheduler-incubating-x.x.x-dolphinscheduler-front-bin.tar.gz 后，\n解压<code>tar -zxvf apache-dolphinscheduler-incubating-x.x.x-dolphinscheduler-front-bin.tar.gz ./</code>后，进入<code>dolphinscheduler-ui</code>目录</p>\n<h2>2、部署</h2>\n<p>以下两种方式任选其一部署即可，推荐自动化部署</p>\n<h3>2.1 自动化部署</h3>\n<blockquote>\n<p>前端自动部署基于linux系统<code>yum</code>操作，部署之前请先安装更新<code>yum</code></p>\n</blockquote>\n<p>在该目录下执行<code>./install-dolphinscheduler-ui.sh</code></p>\n<h3>2.2 手动部署</h3>\n<p>以下两种部署方式任选其一即可，也可以根据自己生产环境情况自行选择其他方式部署</p>\n<h4>2.2.1 nginx方式部署</h4>\n<p>选装epel源 <code>yum install epel-release -y</code></p>\n<p>自行安装Nginx，去官网下载: <a href=\"http://nginx.org/en/download.html\">http://nginx.org/en/download.html</a>  或者 <code>yum install nginx -y</code></p>\n<blockquote>\n<h4>nginx配置文件地址</h4>\n</blockquote>\n<pre><code>/etc/nginx/conf.d/default.conf\n</code></pre>\n<blockquote>\n<h4>配置信息(自行修改)</h4>\n</blockquote>\n<pre><code>server {\n    listen       8888;# 访问端口\n    server_name  localhost;\n    #charset koi8-r;\n    #access_log  /var/log/nginx/host.access.log  main;\n    location / {\n        root   /xx/dist; # 上面前端解压的dist目录地址(自行修改)\n        index  index.html index.html;\n    }\n    location /dolphinscheduler {\n        proxy_pass http://192.168.xx.xx:12345; # 接口地址(自行修改)\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header x_real_ipP $remote_addr;\n        proxy_set_header remote_addr $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_http_version 1.1;\n        proxy_connect_timeout 4s;\n        proxy_read_timeout 30s;\n        proxy_send_timeout 12s;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection &quot;upgrade&quot;;\n    }\n    #error_page  404              /404.html;\n    # redirect server error pages to the static page /50x.html\n    #\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n}\n</code></pre>\n<blockquote>\n<h4>重启Nginx服务</h4>\n</blockquote>\n<pre><code>systemctl restart nginx\n</code></pre>\n<h4>nginx命令</h4>\n<ul>\n<li>\n<p>启用 <code>systemctl enable nginx</code></p>\n</li>\n<li>\n<p>重启 <code>systemctl restart nginx</code></p>\n</li>\n<li>\n<p>状态 <code>systemctl status nginx</code></p>\n</li>\n</ul>\n<h4>2.2.2 jetty方式部署</h4>\n<p>在源码包<code>dolphinscheduler-ui</code>目录下执行</p>\n<pre><code>npm install\n</code></pre>\n<blockquote>\n<h5>！！！这里特别注意 项目如果在拉取依赖包的过程中报 &quot; node-sass error &quot; 错误，请在执行完后再次执行以下命令</h5>\n</blockquote>\n<pre><code>npm install node-sass --unsafe-perm //单独安装node-sass依赖\n</code></pre>\n<pre><code>npm run build:release\n</code></pre>\n<p>在后端二进制包目录下创建ui目录</p>\n<p>拷贝dolphinscheduler-ui/dist目录下所有的文件到后端二进制包ui目录下</p>\n<p>访问以下url,接口地址(自行修改)\n<a href=\"http://localhost:12345/dolphinscheduler\">http://localhost:12345/dolphinscheduler</a></p>\n<h2>前端常见问题</h2>\n<h4>1. 上传文件大小限制</h4>\n<p>编辑配置文件 <code>vi /etc/nginx/nginx.conf</code></p>\n<pre><code># 更改上传大小\nclient_max_body_size 1024m\n</code></pre>\n",
  "link": "/dist/zh-cn/docs/1.2.0/user_doc/frontend-deployment.html",
  "meta": {}
}