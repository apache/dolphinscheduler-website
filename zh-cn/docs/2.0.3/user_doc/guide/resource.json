{
  "filename": "resource.md",
  "__html": "<h1>资源中心</h1>\n<p>如果需要用到资源上传功能，针对单机可以选择本地文件目录作为上传文件夹(此操作不需要部署 Hadoop)。当然也可以选择上传到 Hadoop or MinIO 集群上，此时则需要有Hadoop (2.6+) 或者 MinIO 等相关环境</p>\n<blockquote>\n<p><strong><em>注意:</em></strong></p>\n<ul>\n<li>如果用到资源上传的功能，那么 <a href=\"installation/standalone.md\">安装部署</a>中，部署用户需要有这部分的操作权限</li>\n<li>如果 Hadoop 集群的 NameNode 配置了 HA 的话，需要开启 HDFS 类型的资源上传，同时需要将 Hadoop 集群下的 <code>core-site.xml</code> 和 <code>hdfs-site.xml</code> 复制到 <code>/opt/dolphinscheduler/conf</code>，非 NameNode HA 跳过次步骤</li>\n</ul>\n</blockquote>\n<h2>hdfs资源配置</h2>\n<ul>\n<li>上传资源文件和udf函数，所有上传的文件和资源都会被存储到hdfs上，所以需要以下配置项：</li>\n</ul>\n<pre><code>conf/common.properties  \n    # Users who have permission to create directories under the HDFS root path\n    hdfs.root.user=hdfs\n    # data base dir, resource file will store to this hadoop hdfs path, self configuration, please make sure the directory exists on hdfs and have read write permissions。&quot;/dolphinscheduler&quot; is recommended\n    resource.upload.path=/dolphinscheduler\n    # resource storage type : HDFS,S3,NONE\n    resource.storage.type=HDFS\n    # whether kerberos starts\n    hadoop.security.authentication.startup.state=false\n    # java.security.krb5.conf path\n    java.security.krb5.conf.path=/opt/krb5.conf\n    # loginUserFromKeytab user\n    login.user.keytab.username=hdfs-mycluster@ESZ.COM\n    # loginUserFromKeytab path\n    login.user.keytab.path=/opt/hdfs.headless.keytab    \n    # if resource.storage.type is HDFS，and your Hadoop Cluster NameNode has HA enabled, you need to put core-site.xml and hdfs-site.xml in the installPath/conf directory. In this example, it is placed under /opt/soft/dolphinscheduler/conf, and configure the namenode cluster name; if the NameNode is not HA, modify it to a specific IP or host name.\n    # if resource.storage.type is S3，write S3 address，HA，for example ：s3a://dolphinscheduler，\n    # Note，s3 be sure to create the root directory /dolphinscheduler\n    fs.defaultFS=hdfs://mycluster:8020    \n    #resourcemanager ha note this need ips , this empty if single\n    yarn.resourcemanager.ha.rm.ids=192.168.xx.xx,192.168.xx.xx    \n    # If it is a single resourcemanager, you only need to configure one host name. If it is resourcemanager HA, the default configuration is fine\n    yarn.application.status.address=http://xxxx:8088/ws/v1/cluster/apps/%s\n\n</code></pre>\n<h2>文件管理</h2>\n<blockquote>\n<p>是对各种资源文件的管理，包括创建基本的txt/log/sh/conf/py/java等文件、上传jar包等各种类型文件，可进行编辑、重命名、下载、删除等操作。</p>\n</blockquote>\n  <p align=\"center\">\n   <img src=\"/img/file-manage.png\" width=\"80%\" />\n </p>\n<ul>\n<li>\n<p>创建文件</p>\n<blockquote>\n<p>文件格式支持以下几种类型：txt、log、sh、conf、cfg、py、java、sql、xml、hql、properties</p>\n</blockquote>\n  <p align=\"center\">\n      <img src=\"/img/file_create.png\" width=\"80%\" />\n  </p>\n</li>\n<li>\n<p>上传文件</p>\n<blockquote>\n<p>上传文件：点击&quot;上传文件&quot;按钮进行上传，将文件拖拽到上传区域，文件名会自动以上传的文件名称补全</p>\n</blockquote>\n  <p align=\"center\">\n      <img src=\"/img/file_upload.png\" width=\"80%\" />\n  </p>\n</li>\n<li>\n<p>文件查看</p>\n<blockquote>\n<p>对可查看的文件类型，点击文件名称，可查看文件详情</p>\n</blockquote>\n  <p align=\"center\">\n      <img src=\"/img/file_detail.png\" width=\"80%\" />\n  </p>\n</li>\n<li>\n<p>下载文件</p>\n<blockquote>\n<p>点击文件列表的&quot;下载&quot;按钮下载文件或者在文件详情中点击右上角&quot;下载&quot;按钮下载文件</p>\n</blockquote>\n</li>\n<li>\n<p>文件重命名</p>\n</li>\n</ul>\n<p align=\"center\">\n   <img src=\"/img/file_rename.png\" width=\"80%\" />\n </p>\n<ul>\n<li>删除</li>\n</ul>\n<blockquote>\n<p>文件列表-&gt;点击&quot;删除&quot;按钮，删除指定文件</p>\n</blockquote>\n<h2>UDF管理</h2>\n<h3>资源管理</h3>\n<blockquote>\n<p>资源管理和文件管理功能类似，不同之处是资源管理是上传的UDF函数，文件管理上传的是用户程序，脚本及配置文件\n操作功能：重命名、下载、删除。</p>\n</blockquote>\n<ul>\n<li>\n<p>上传udf资源</p>\n<blockquote>\n<p>和上传文件相同。</p>\n</blockquote>\n</li>\n</ul>\n<h3>函数管理</h3>\n<ul>\n<li>\n<p>创建udf函数</p>\n<blockquote>\n<p>点击“创建UDF函数”，输入udf函数参数，选择udf资源，点击“提交”，创建udf函数。\n目前只支持HIVE的临时UDF函数</p>\n</blockquote>\n</li>\n</ul>\n<ul>\n<li>UDF函数名称：输入UDF函数时的名称</li>\n<li>包名类名：输入UDF函数的全路径</li>\n<li>UDF资源：设置创建的UDF对应的资源文件</li>\n</ul>\n<p align=\"center\">\n   <img src=\"/img/udf_edit.png\" width=\"80%\" />\n </p>",
  "link": "/dist/zh-cn/docs/2.0.3/user_doc/guide/resource.html",
  "meta": {}
}