{
  "filename": "parameters-introduction.md",
  "__html": "<h1>Dolphinscheduler 参数使用说明</h1>\n<h4>1. 系统参数</h4>\n<table>\n    <tr><th>变量名</th><th>声明方式</th><th>含义</th></tr>\n    <tr>\n        <td>system.biz.date</td>\n        <td>${system.biz.date}</td>\n        <td>日常调度实例定时的定时时间前一天，格式为 yyyyMMdd，补数据时，该日期 +1</td>\n    </tr>\n    <tr>\n        <td>system.biz.curdate</td>\n        <td>${system.biz.curdate}</td>\n        <td>日常调度实例定时的定时时间，格式为 yyyyMMdd，补数据时，该日期 +1</td>\n    </tr>\n    <tr>\n        <td>system.datetime</td>\n        <td>${system.datetime}</td>\n        <td>日常调度实例定时的定时时间，格式为 yyyyMMddHHmmss，补数据时，该日期 +1</td>\n    </tr>\n</table>\n<h4>2.自定义参数</h4>\n<h5>2.1 时间自定义参数</h5>\n<ul>\n<li>\n<p>支持代码中自定义变量名，声明方式：${变量名}。可以是引用 &quot;系统参数&quot; 或指定 &quot;常量&quot;。</p>\n</li>\n<li>\n<p>我们定义这种基准变量为 $[...] 格式的，$[yyyyMMddHHmmss] 是可以任意分解组合的，比如：$[yyyyMMdd], $[HHmmss], $[yyyy-MM-dd] 等</p>\n</li>\n<li>\n<p>也可以通过以下两种方式：</p>\n<pre><code>1.使用add_months()函数，该函数用于加减月份，\n第一个入口参数为[yyyyMMdd]，表示返回时间的格式\n第二个入口参数为月份偏移量，表示加减多少个月\n* 后 N 年：$[add_months(yyyyMMdd,12*N)]\n* 前 N 年：$[add_months(yyyyMMdd,-12*N)]\n* 后 N 月：$[add_months(yyyyMMdd,N)]\n* 前 N 月：$[add_months(yyyyMMdd,-N)]\n*******************************************\n2.直接加减数字\n在自定义格式后直接“+/-”数字\n* 后 N 周：$[yyyyMMdd+7*N]\n* 前 N 周：$[yyyyMMdd-7*N]\n* 后 N 天：$[yyyyMMdd+N]\n* 前 N 天：$[yyyyMMdd-N]\n* 后 N 小时：$[HHmmss+N/24]\n* 前 N 小时：$[HHmmss-N/24]\n* 后 N 分钟：$[HHmmss+N/24/60]\n* 前 N 分钟：$[HHmmss-N/24/60]\n</code></pre>\n</li>\n</ul>\n<h5>2.2 <span id=UserDefinedParameters>用户自定义参数</span></h5>\n<ul>\n<li>用户自定义参数分为全局参数和局部参数。全局参数是保存工作流定义和工作流实例的时候传递的全局参数，全局参数可以在整个流程中的任何一个任务节点的局部参数引用。</li>\n<li>设置全局参数的方法是，定义完成工作流后，点击页面右上角的”保存“按钮，在弹窗内点击“设置全局”下方的“+”按钮，如图：</li>\n</ul>\n<p align=\"center\">\n   <img src=\"/img/supplement_global_parameter.png\" width=\"80%\" />\n</p>\n​\t\t这里定义的global_bizdate参数可以被其它任一节点的局部参数引用，并设置global_bizdate的value为通过引用系统参数                                    \t\tsystem.biz.date获得的值：\n<p align=\"center\">\n   <img src=\"/img/local_parameter.png\" width=\"80%\" />\n </p>\n<ul>\n<li>设置局部参数的方法是，在定义工作流时，双击任一节点，点击弹窗中的自定义参数旁的‘+‘按钮：</li>\n</ul>\n<p align=\"center\">\n   <img src=\"/img/supplement_local_parameter.png\" width=\"80%\" />\n </p>\n<p align=\"center\">\n   <img src=\"/img/global_parameter.png\" width=\"80%\" />\n </p>\n<p>​\t\t观察上图的最后一行，local_param_bizdate通过${global_bizdate}来引用全局参数，在shell脚本中可以通过${local_param_bizdate}来引全局变量 global_bizdate的值，或通过JDBC直接将local_param_bizdate的值set进去。</p>\n<p>​\t\t同理，local_param通过${local_param}引用上一节中定义的全局参数。</p>\n<p>​\t\tbiz_date、biz_curdate、system.datetime都是用户自定义的参数，通过${全局参数}进行赋值。</p>\n",
  "link": "/dist/zh-cn/docs/1.3.8/user_doc/parameters-introduction.html",
  "meta": {}
}