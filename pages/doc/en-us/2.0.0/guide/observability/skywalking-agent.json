{
  "__html": "<h1 id=\"skywalking-agent\">SkyWalking Agent</h1>\n<p>The dolphinscheduler-skywalking module provides <a href=\"https://skywalking.apache.org/\">SkyWalking</a> monitor agent for the Dolphinscheduler project.</p>\n<p>This document describes how to enable SkyWalking 8.4+ support with this module (recommended to use SkyWalking 8.5.0).</p>\n<h1 id=\"installation\">Installation</h1>\n<p>The following configuration is used to enable SkyWalking agent.</p>\n<h3 id=\"through-environment-variable-configuration-(for-docker-compose)\">Through environment variable configuration (for Docker Compose)</h3>\n<p>Modify SkyWalking environment variables in <code>docker/docker-swarm/config.env.sh</code>:</p>\n<pre><code>SKYWALKING_ENABLE=true\nSW_AGENT_COLLECTOR_BACKEND_SERVICES=127.0.0.1:11800\nSW_GRPC_LOG_SERVER_HOST=127.0.0.1\nSW_GRPC_LOG_SERVER_PORT=11800\n</code></pre>\n<p>And run</p>\n<pre><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">$ </span><span class=\"language-bash\">docker-compose up -d</span>\n</code></pre>\n<h3 id=\"through-environment-variable-configuration-(for-docker)\">Through environment variable configuration (for Docker)</h3>\n<pre><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">$ </span><span class=\"language-bash\">docker run -d --name dolphinscheduler \\\n-e DATABASE_HOST=<span class=\"hljs-string\">&quot;192.168.x.x&quot;</span> -e DATABASE_PORT=<span class=\"hljs-string\">&quot;5432&quot;</span> -e DATABASE_DATABASE=<span class=\"hljs-string\">&quot;dolphinscheduler&quot;</span> \\\n-e DATABASE_USERNAME=<span class=\"hljs-string\">&quot;test&quot;</span> -e DATABASE_PASSWORD=<span class=\"hljs-string\">&quot;test&quot;</span> \\\n-e ZOOKEEPER_QUORUM=<span class=\"hljs-string\">&quot;192.168.x.x:2181&quot;</span> \\\n-e SKYWALKING_ENABLE=<span class=\"hljs-string\">&quot;true&quot;</span> \\\n-e SW_AGENT_COLLECTOR_BACKEND_SERVICES=<span class=\"hljs-string\">&quot;your.skywalking-oap-server.com:11800&quot;</span> \\\n-e SW_GRPC_LOG_SERVER_HOST=<span class=\"hljs-string\">&quot;your.skywalking-log-reporter.com&quot;</span> \\\n-e SW_GRPC_LOG_SERVER_PORT=<span class=\"hljs-string\">&quot;11800&quot;</span> \\\n-p 12345:12345 \\\napache/dolphinscheduler:2.0.0 all</span>\n</code></pre>\n<h3 id=\"through-install_config.conf-configuration-(for-dolphinscheduler-install.sh)\">Through install_config.conf configuration (for DolphinScheduler install.sh)</h3>\n<p>Add the following configurations to <code>${workDir}/conf/config/install_config.conf</code>.</p>\n<pre><code class=\"language-properties\"><span class=\"hljs-comment\">\n# SkyWalking config</span>\n<span class=\"hljs-comment\"># <span class=\"hljs-doctag\">note:</span> enable SkyWalking tracking plugin</span>\n<span class=\"hljs-attr\">enableSkywalking</span>=<span class=\"hljs-string\">&quot;true&quot;</span>\n<span class=\"hljs-comment\"># <span class=\"hljs-doctag\">note:</span> configure SkyWalking backend service address</span>\n<span class=\"hljs-attr\">skywalkingServers</span>=<span class=\"hljs-string\">&quot;your.skywalking-oap-server.com:11800&quot;</span>\n<span class=\"hljs-comment\"># <span class=\"hljs-doctag\">note:</span> configure SkyWalking log reporter host</span>\n<span class=\"hljs-attr\">skywalkingLogReporterHost</span>=<span class=\"hljs-string\">&quot;your.skywalking-log-reporter.com&quot;</span>\n<span class=\"hljs-comment\"># <span class=\"hljs-doctag\">note:</span> configure SkyWalking log reporter port</span>\n<span class=\"hljs-attr\">skywalkingLogReporterPort</span>=<span class=\"hljs-string\">&quot;11800&quot;</span>\n\n</code></pre>\n<h1 id=\"usage\">Usage</h1>\n<h3 id=\"import-dashboard\">Import Dashboard</h3>\n<h4 id=\"import-dolphinscheduler-dashboard-to-skywalking-sever\">Import DolphinScheduler Dashboard to SkyWalking Sever</h4>\n<p>Copy the <code>${dolphinscheduler.home}/ext/skywalking-agent/dashboard/dolphinscheduler.yml</code> file into <code>${skywalking-oap-server.home}/config/ui-initialized-templates/</code> directory, and restart SkyWalking oap-server.</p>\n<h4 id=\"view-dolphinscheduler-dashboard\">View DolphinScheduler Dashboard</h4>\n<p>If you have opened SkyWalking dashboard with a browser before, you need to clear the browser cache.</p>\n<p><img src=\"/img/skywalking/import-dashboard-1.jpg\" alt=\"img1\"></p>\n",
  "location": [
    "Observability",
    "SkyWalking-Agent"
  ],
  "time": "2021-11-25",
  "structure": [
    {
      "title": "Through environment variable configuration (for Docker Compose)",
      "children": [
        {
          "title": "Import DolphinScheduler Dashboard to SkyWalking Sever",
          "children": [],
          "anchor": "import-dolphinscheduler-dashboard-to-skywalking-sever"
        },
        {
          "title": "View DolphinScheduler Dashboard",
          "children": [],
          "anchor": "view-dolphinscheduler-dashboard"
        }
      ],
      "anchor": "through-environment-variable-configuration-(for-docker-compose)"
    },
    {
      "title": "Through environment variable configuration (for Docker)",
      "children": [
        {
          "title": "Import DolphinScheduler Dashboard to SkyWalking Sever",
          "children": [],
          "anchor": "import-dolphinscheduler-dashboard-to-skywalking-sever"
        },
        {
          "title": "View DolphinScheduler Dashboard",
          "children": [],
          "anchor": "view-dolphinscheduler-dashboard"
        }
      ],
      "anchor": "through-environment-variable-configuration-(for-docker)"
    },
    {
      "title": "Through install_config.conf configuration (for DolphinScheduler install.sh)",
      "children": [
        {
          "title": "Import DolphinScheduler Dashboard to SkyWalking Sever",
          "children": [],
          "anchor": "import-dolphinscheduler-dashboard-to-skywalking-sever"
        },
        {
          "title": "View DolphinScheduler Dashboard",
          "children": [],
          "anchor": "view-dolphinscheduler-dashboard"
        }
      ],
      "anchor": "through-install_config.conf-configuration-(for-dolphinscheduler-install.sh)"
    },
    {
      "title": "Import Dashboard",
      "children": [
        {
          "title": "Import DolphinScheduler Dashboard to SkyWalking Sever",
          "children": [],
          "anchor": "import-dolphinscheduler-dashboard-to-skywalking-sever"
        },
        {
          "title": "View DolphinScheduler Dashboard",
          "children": [],
          "anchor": "view-dolphinscheduler-dashboard"
        }
      ],
      "anchor": "import-dashboard"
    }
  ],
  "title": "SkyWalking Agent",
  "link": "/guide/observability/skywalking-agent"
}