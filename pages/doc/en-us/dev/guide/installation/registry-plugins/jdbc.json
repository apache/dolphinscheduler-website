{
  "__html": "<h1 id=\"introduction\">Introduction</h1>\n<p>This plugin will use jdbc as the registry center. Will use the database\nconfiguration same as DolphinScheduler in api'yaml default.</p>\n<h1 id=\"how-to-use\">How to use</h1>\n<ol>\n<li>Initialize the database table</li>\n</ol>\n<ul>\n<li>\n<p>If you use Mysql you can directly execute the sql script <code>src/main/resources/mysql_registry_init.sql</code>.</p>\n</li>\n<li>\n<p>If you use Postgresql you can directly execute the sql script <code>src/main/resources/postgresql_registry_init.sql</code>.</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Change the config</li>\n</ol>\n<p>You need to set the registry properties in master/worker/api's application.yml</p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">registry:</span>\n  <span class=\"hljs-attr\">type:</span> <span class=\"hljs-string\">jdbc</span>\n</code></pre>\n<p>After do this two steps, you can start your DolphinScheduler cluster, your cluster will use mysql as registry center to\nstore server metadata.</p>\n<p>NOTE: You need to add <code>mysql-connector-java.jar</code> into DS classpath if you use mysql database, since this plugin will not\nbundle this driver in distribution.\nYou can get the detail\nabout <a href=\"https://dolphinscheduler.apache.org/en-us/docs/3.1.2/guide/installation/pseudo-cluster\">Initialize the\nDatabase</a>.</p>\n<h2 id=\"optional-configuration\">Optional configuration</h2>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">registry:</span>\n  <span class=\"hljs-attr\">type:</span> <span class=\"hljs-string\">jdbc</span>\n  <span class=\"hljs-comment\"># Used to schedule refresh the heartbeat.</span>\n  <span class=\"hljs-attr\">heartbeat-refresh-interval:</span> <span class=\"hljs-string\">3s</span>\n  <span class=\"hljs-comment\"># Once the client&#x27;s heartbeat is not refresh in this time, the server will consider the client is offline.</span>\n  <span class=\"hljs-attr\">session-timeout:</span> <span class=\"hljs-string\">60s</span>\n</code></pre>\n<h2 id=\"set-datasource-for-worker\">Set DataSource for worker</h2>\n<p>Since worker server doesn't contain datasource, so you need to config datasource for worker.</p>\n<p>You need to set the registry hikari-config properties at worker's application.yml</p>\n<h3 id=\"use-mysql-as-registry-center\">Use Mysql as registry center</h3>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">registry:</span>\n  <span class=\"hljs-attr\">type:</span> <span class=\"hljs-string\">jdbc</span>\n  <span class=\"hljs-attr\">heartbeat-refresh-interval:</span> <span class=\"hljs-string\">3s</span>\n  <span class=\"hljs-attr\">session-timeout:</span> <span class=\"hljs-string\">60s</span>\n  <span class=\"hljs-attr\">hikari-config:</span>\n    <span class=\"hljs-attr\">jdbc-url:</span> <span class=\"hljs-string\">jdbc:mysql://127.0.0.1:3306/dolphinscheduler</span>\n    <span class=\"hljs-attr\">username:</span> <span class=\"hljs-string\">root</span>\n    <span class=\"hljs-attr\">password:</span> <span class=\"hljs-string\">root</span>\n    <span class=\"hljs-attr\">maximum-pool-size:</span> <span class=\"hljs-number\">5</span>\n    <span class=\"hljs-attr\">connection-timeout:</span> <span class=\"hljs-number\">9000</span>\n    <span class=\"hljs-attr\">idle-timeout:</span> <span class=\"hljs-number\">600000</span>\n</code></pre>\n<h3 id=\"use-postgresql-as-registry-center\">Use Postgresql as registry center</h3>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">registry:</span>\n  <span class=\"hljs-attr\">type:</span> <span class=\"hljs-string\">jdbc</span>\n  <span class=\"hljs-attr\">heartbeat-refresh-interval:</span> <span class=\"hljs-string\">3s</span>\n  <span class=\"hljs-attr\">session-timeout:</span> <span class=\"hljs-string\">60s</span>\n  <span class=\"hljs-attr\">hikari-config:</span>\n    <span class=\"hljs-attr\">jdbc-url:</span> <span class=\"hljs-string\">jdbc:postgresql://localhost:5432/dolphinscheduler</span>\n    <span class=\"hljs-attr\">username:</span> <span class=\"hljs-string\">root</span>\n    <span class=\"hljs-attr\">password:</span> <span class=\"hljs-string\">root</span>\n    <span class=\"hljs-attr\">maximum-pool-size:</span> <span class=\"hljs-number\">5</span>\n    <span class=\"hljs-attr\">connection-timeout:</span> <span class=\"hljs-number\">9000</span>\n    <span class=\"hljs-attr\">idle-timeout:</span> <span class=\"hljs-number\">600000</span>\n</code></pre>\n",
  "location": [
    "Installation",
    "registry-plugins",
    "JDBC"
  ],
  "structure": [
    {
      "title": "Optional configuration",
      "children": [
        {
          "title": "Use Mysql as registry center",
          "children": [],
          "anchor": "use-mysql-as-registry-center"
        },
        {
          "title": "Use Postgresql as registry center",
          "children": [],
          "anchor": "use-postgresql-as-registry-center"
        }
      ],
      "anchor": "optional-configuration"
    },
    {
      "title": "Set DataSource for worker",
      "children": [
        {
          "title": "Use Mysql as registry center",
          "children": [],
          "anchor": "use-mysql-as-registry-center"
        },
        {
          "title": "Use Postgresql as registry center",
          "children": [],
          "anchor": "use-postgresql-as-registry-center"
        }
      ],
      "anchor": "set-datasource-for-worker"
    }
  ],
  "title": "Introduction",
  "link": "/guide/installation/registry-plugins/jdbc"
}