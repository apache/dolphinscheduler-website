{
  "__html": "<h1 id=\"发版准备\">发版准备</h1>\n<h2 id=\"检查-release-docs\">检查 release-docs</h2>\n<p>和上一个版本比较，如果有依赖及版本发生了变化，当前版本的 <code>release-docs</code> 需要被更新到最新</p>\n<ul>\n<li><code>dolphinscheduler-dist/release-docs/LICENSE</code></li>\n<li><code>dolphinscheduler-dist/release-docs/NOTICE</code></li>\n<li><code>dolphinscheduler-dist/release-docs/licenses</code></li>\n</ul>\n<h2 id=\"更新版本\">更新版本</h2>\n<p>例如要发版 <code>x.y.z</code>，需要先进行以下修改:</p>\n<ul>\n<li>修改代码中的版本号:\n<ul>\n<li><code>sql</code>:\n<ul>\n<li><code>dolphinscheduler_mysql.sql</code>: <code>t_ds_version</code> 版本更新为 x.y.z</li>\n<li><code>dolphinscheduler_postgre.sql</code>: <code>t_ds_version</code> 版本更新为 x.y.z</li>\n<li><code>dolphinscheduler_h2.sql</code>: <code>t_ds_version</code> 版本更新为 x.y.z</li>\n<li><code>upgrade</code>: 是否新增 <code>x.y.z_schema</code></li>\n<li><code>soft_version</code>: 版本更新为 x.y.z</li>\n</ul>\n</li>\n<li><code>deploy/docker/.env</code>: <code>HUB</code> 改为 <code>apache</code>，<code>TAG</code> 改为 <code>x.y.z</code></li>\n<li><code>deploy/kubernetes/dolphinscheduler</code>:\n<ul>\n<li><code>Chart.yaml</code>: <code>appVersion</code> 版本更新为 x.y.z (<code>version</code> 为 helm chart 版本, 增量更新但不要设置为 x.y.z)</li>\n<li><code>values.yaml</code>: <code>image.tag</code> 版本更新为 x.y.z</li>\n</ul>\n</li>\n<li><code>dolphinscheduler-python/pydolphinscheduler/setup.py</code>: 修改其中的 <code>version</code> 为 x.y.z</li>\n</ul>\n</li>\n<li>修改文档（docs模块）中的版本号:\n<ul>\n<li>将 <code>docs</code> 文件夹下文件的占位符 <code>&lt;version&gt;</code> (除了 pom.xml 相关的) 修改成 <code>x.y.z</code></li>\n<li>新增历史版本\n<ul>\n<li><code>docs/docs/en/history-versions.md</code> 和 <code>docs/docs/zh/history-versions.md</code>: 增加新的历史版本为 <code>x.y.z</code></li>\n</ul>\n</li>\n<li>修改文档 sidebar\n<ul>\n<li><code>docs/configs/docsdev.js</code>: 将里面的 <code>/dev/</code> 修改成 <code>/x.y.z/</code>，<strong>不要</strong>修改文件名称，website 仓库的 shell 脚本会对他进行修改</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n",
  "location": [
    "贡献指南",
    "发版指南",
    "发版准备"
  ],
  "time": "2023-1-3",
  "structure": [
    {
      "title": "检查 release-docs",
      "children": [],
      "anchor": "检查-release-docs"
    },
    {
      "title": "更新版本",
      "children": [],
      "anchor": "更新版本"
    }
  ],
  "title": "发版准备",
  "link": "/contribute/release/release-prepare"
}