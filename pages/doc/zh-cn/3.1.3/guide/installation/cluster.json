{
  "__html": "<h1 id=\"集群部署(cluster)\">集群部署(Cluster)</h1>\n<p>集群部署目的是在多台机器部署 DolphinScheduler 服务，用于运行大量任务情况。</p>\n<p>如果你是新手，想要体验 DolphinScheduler 的功能，推荐使用<a href=\"/zh-cn/docs/3.1.3/guide/installation/standalone\">Standalone</a>方式体检。如果你想体验更完整的功能，或者更大的任务量，推荐使用<a href=\"/zh-cn/docs/3.1.3/guide/installation/pseudo-cluster\">伪集群部署</a>。如果你是在生产中使用，推荐使用<a href=\"/zh-cn/docs/3.1.3/guide/installation/cluster\">集群部署</a>或者<a href=\"/zh-cn/docs/3.1.3/guide/installation/kubernetes\">kubernetes</a></p>\n<h2 id=\"部署步骤\">部署步骤</h2>\n<p>集群部署(Cluster)使用的脚本和配置文件与<a href=\"/zh-cn/docs/3.1.3/guide/installation/pseudo-cluster\">伪集群部署</a>中的配置一样，所以所需要的步骤也与伪集群部署大致一样。区别就是伪集群部署针对的是一台机器，而集群部署(Cluster)需要针对多台机器，且两者“修改相关配置”步骤区别较大</p>\n<h3 id=\"前置准备工作-&amp;&amp;-准备-dolphinscheduler-启动环境\">前置准备工作 &amp;&amp; 准备 DolphinScheduler 启动环境</h3>\n<p>其中除了<a href=\"/zh-cn/docs/3.1.3/guide/installation/pseudo-cluster\">伪集群部署</a>中的“前置准备工作”，“准备启动环境”除了“启动zookeeper”以及“初始化数据库”外，别的都需要在每台机器中进行配置</p>\n<h3 id=\"修改相关配置\">修改相关配置</h3>\n<p>这个是与<a href=\"/zh-cn/docs/3.1.3/guide/installation/pseudo-cluster\">伪集群部署</a>差异较大的一步，因为部署脚本会通过 <code>scp</code> 的方式将安装需要的资源传输到各个机器上，所以这一步我们仅需要修改运行<code>install.sh</code>脚本的所在机器的配置即可。配置文件在路径在<code>bin/env/install_env.sh</code>下，此处我们仅需修改<strong>INSTALL MACHINE</strong>，<strong>DolphinScheduler ENV、Database、Registry Server</strong>与伪集群部署保持一致，下面对必须修改参数进行说明</p>\n<pre><code class=\"language-shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">---------------------------------------------------------</span>\n<span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">INSTALL MACHINE</span>\n<span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">---------------------------------------------------------</span>\n<span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">需要配置master、worker、API server，所在服务器的IP均为机器IP或者localhost</span>\n<span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">如果是配置hostname的话，需要保证机器间可以通过hostname相互链接</span>\n<span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">如下图所示，部署 DolphinScheduler 机器的 hostname 为 ds1,ds2,ds3,ds4,ds5，其中 ds1,ds2 安装 master 服务，ds3,ds4,ds5安装 worker 服务，alert server安装在ds4中，api server 安装在ds5中</span>\nips=&quot;ds1,ds2,ds3,ds4,ds5&quot;\nmasters=&quot;ds1,ds2&quot;\nworkers=&quot;ds3:default,ds4:default,ds5:default&quot;\nalertServer=&quot;ds4&quot;\napiServers=&quot;ds5&quot;\n</code></pre>\n<h2 id=\"启动-dolphinscheduler-&amp;&amp;-登录-dolphinscheduler-&amp;&amp;-启停服务\">启动 DolphinScheduler &amp;&amp; 登录 DolphinScheduler &amp;&amp; 启停服务</h2>\n<p><a href=\"/zh-cn/docs/3.1.3/guide/installation/pseudo-cluster\">与伪集群部署</a>保持一致</p>\n",
  "location": [
    "部署指南",
    "集群部署(Cluster)"
  ],
  "time": "2023-01-08",
  "structure": [
    {
      "title": "部署步骤",
      "children": [
        {
          "title": "前置准备工作 &amp;&amp; 准备 DolphinScheduler 启动环境",
          "children": [],
          "anchor": "前置准备工作-&amp;&amp;-准备-dolphinscheduler-启动环境"
        },
        {
          "title": "修改相关配置",
          "children": [],
          "anchor": "修改相关配置"
        }
      ],
      "anchor": "部署步骤"
    },
    {
      "title": "启动 DolphinScheduler &amp;&amp; 登录 DolphinScheduler &amp;&amp; 启停服务",
      "children": [
        {
          "title": "前置准备工作 &amp;&amp; 准备 DolphinScheduler 启动环境",
          "children": [],
          "anchor": "前置准备工作-&amp;&amp;-准备-dolphinscheduler-启动环境"
        },
        {
          "title": "修改相关配置",
          "children": [],
          "anchor": "修改相关配置"
        }
      ],
      "anchor": "启动-dolphinscheduler-&amp;&amp;-登录-dolphinscheduler-&amp;&amp;-启停服务"
    }
  ],
  "title": "集群部署(Cluster)",
  "link": "/guide/installation/cluster"
}