{
  "__html": "<h1>Apache DolphinScheduler Extends Capabilities Through Python API and AWS Support</h1>\n<p>In the ever-changing world of technology, data is abundant. In fact, trillions of gigabytes of data are generated every day!</p>\n<p>Stop and think about that for a second!</p>\n<p>Storing and processing these humongous amounts of data is no easy feat. Big data workflow schedulers such as the Apache DolphinScheduler and Apache Airflow help businesses perform operations on large volumes of data.</p>\n<p>Let’s take a deep dive and look at two prominent features of Apache DolphinScheduler: <strong>PyDolphinScheduler and AWS support.</strong></p>\n<p>Happy reading!</p>\n<p>About PyDolphinScheduler\nBefore we formally define PyDolphinScheduler, let’s take a deep dive and understand what Apache DolphinScheduler does.</p>\n<p>Apache DolphinScheduler is a distributed and extensible workflow scheduler platform that offers powerful DAG visual interfaces, helping data scientists and analysts author, schedule, and monitor batch data pipelines smoothly without needing heavy code.</p>\n<p><img src=\"https://miro.medium.com/max/630/0*vjtGRiHZFvYLT8QZ\" alt=\"\"></p>\n<p>While users of Apache DolphinScheduler can monitor and tunnel Directed Acyclic Graphs (DAG) through its drag-and-drop visual interface (we’ll talk more on this later), Apache DolphinScheduler lets users implement workflows through Python code for the best control over their workflows.</p>\n<p>With this in mind, let’s formally define PyDolphinScheduler.</p>\n<p>According to their website,</p>\n<p>“PyDolphin Scheduler is the Python API for Apache DolphinScheduler, which allows you to define your workflows through Python code, aka workflow-as-codes.”</p>\n<p>In essence, the DolphinScheduler Python API is a wrapper for the workflow scheduler that lets you easily create and define workflows. You can still run and monitor all your workflows through the visual DAG interface, making DolphinScheduler an attractive option compared to Apache Airflow and Apache Azkaban.\n<img src=\"https://miro.medium.com/max/630/0*Ep9rZFSTviU8SjmP\" alt=\"\"></p>\n<p>You get the best of both worlds: the innate versatility of the Python code followed by the intuitive ease of using the visual drag-and-drop interface.</p>\n<p>The rate at which data is generated has blown out of proportion in the 21st century.</p>\n<p>According to Cisco, the global internet traffic is estimated to be around one zettabyte per year!</p>\n<p>Let’s stop short and put this into perspective. If each brick of the Great Wall of China measures 1 gigabyte, this hypothetically means that you could build a whopping 258 Great Walls of China with a single zettabyte!</p>\n<p>The burden of analyzing vast amounts of data can be clearly seen here.</p>\n<p>That’s what makes Python one of the best programming languages for analysis, maintenance, and deployment. Since Python is typically employed for data analytics and pipelines, PyDolphinScheduler is the perfect way to define your workflows.</p>\n<p>Python is also extensively used by machine learning and artificial intelligence teams and also in schedulers and various libraries.</p>\n<h2>Benefits of Visual DAG</h2>\n<p>Let’s check out the benefits of having a visual DAG interface.</p>\n<p>Since its release in 2016, Apache Airflow has become quite popular among data scientists and engineers.</p>\n<p>But there was a caveat.</p>\n<p>While developers of Airflow’s code-first philosophy positively impacted the platform’s versatility, it proved disastrous at times. For example, developers often found maintaining and troubleshooting errors through code extremely hard and time-consuming.</p>\n<p>This is where Apache DolphinScheduler shone through. Users now could create and define workflows easily through PyDolphinSceduler and then utilize the visual DAG interface to monitor the workflows.</p>\n<p>In addition, Apache DolphinScheduler had one of the best visual suspension and error handling features: something that was unavailable in Apache Airflow, which agonized users a lot.</p>\n<p>To show you how easy it is to create and run workflows in DolphinScheduler using the visual DAG method, here’s an example:</p>\n<p>You can drag-and-drop tasks to create or add them to existing workflows.\n<img src=\"https://miro.medium.com/max/630/0*pDtLAhzGRbKUxdd6\" alt=\"\"></p>\n<p>In addition, you can visually check and schedule the timing, including start time, end time, timezone, and Crontab expressions. Furthermore, you can visually set timing in advance for the next, say, 5 times.</p>\n<p><img src=\"https://miro.medium.com/max/630/0*469396ZUGmyhs5J3\" alt=\"\"></p>\n<p>If you wish to manually trigger the workflow, you can do so through the start button. After clicking on the start button, you can see the workflow instance and running status in the ‘Workflow Instance’ page.\n<img src=\"https://miro.medium.com/max/630/0*E_lL6Y07us_w1xcL\" alt=\"\"></p>\n<p>In addition, you can also view the task log for specific workflow instances.</p>\n<p><img src=\"https://miro.medium.com/max/630/0*2QRw57Z3w04vjNTK\" alt=\"\"></p>\n<p>See how easy it is to handle workflows through the visual DAG interface?</p>\n<h2>What is No-Code Workflow?</h2>\n<p>In the early days of data engineering, scientists found it extremely hard to merge specific actions with code.</p>\n<p>For example, let’s say a database is about to run out of storage. Most likely, engineers would have some sort of troubleshooting or monitoring system in place. In addition, they had to verify whether it was a false alarm, then create a bigger instance, move the data, and redirect services to the new one — all the while testing for data integrity.</p>\n<p>Soon engineers realized that many of these steps could be automated through workflows with code.</p>\n<p>A workflow, after all, is a set of tasks with dependencies between them.</p>\n<p>For big data, powerful schedulers like Apache Airflow and Apache DolphinScheduler helps users create workflows as codes, specifically in the form of Directed Acyclic Graphs. In workflow-as-a-code, the tasks are well-defined through precise inputs and outputs — making this system an excellent leap for data scientists and engineers.</p>\n<p>While it has benefits in and of itself, such as optimized performance and modeling, workflow-as-code has its own flaws.</p>\n<p>Firstly, it requires significant expertise in Python coding just to execute the workflow.</p>\n<p>Secondly, since the data comes out in the form of code, deciphering data and valuable information at a higher level is a daunting task.</p>\n<p>Thirdly, making changes, monitoring, and handling errors is a nightmare when it comes to the code-only approach.</p>\n<p>That’s why Apache DolphinScheduler employs a visual DAG interface to address these problems.</p>\n<p>With the no-code workflow, even beginners and non-technical users can execute workflows and monitor them. The drag-and-drop capability allows users to easily envision data and overall logic — which is not available in Apache Airflow.</p>\n<p>Furthermore, this also reduces errors, which, when paired with Apache DolphinScheduler’s error handling methods, can vastly improve performance, productivity, and efficiency.</p>\n<h2>Installing PyDolphinScheduler</h2>\n<p>To get started with PyDolphinSchduler, you must have Python and pip installed on your machine.</p>\n<h2>Installing Python</h2>\n<p>Installing Python and pip varies depending on the operating system you use. This Python Wiki offers detailed installation guides for various systems.</p>\n<p>For PyDolphinScheduler, I recommend using Python 3.6 and above. For smoother usage, ensure that you install stable releases instead of beta versions.</p>\n<p>Once you’ve downloaded and installed Python, verify if your installation is successful by typing:</p>\n<p>python — version.</p>\n<p>You’ll see details about the installed Python version if your installation was successful.</p>\n<h2>Installing PyDolphinScheduler</h2>\n<p>The next step is to install PyDolphinScheduler by using pip.</p>\n<p>Here’s the terminal command:</p>\n<p>python -m pip install apache-dolphinscheduler</p>\n<p>This’ll install the latest version of PyDolphinScheduler.</p>\n<p><img src=\"https://miro.medium.com/max/630/0*fp60NKsj2UDpa4wF\" alt=\"\"></p>\n<h2>Starting the Python Gateway Service</h2>\n<p>Since PyDolphinScheduler is the Python API for Apache Dolphin Scheduler, you need to install it before you can run workflows. You can define workflows and task structures, though.</p>\n<p>Here’s a detailed guide to help you install Apache DolphinScheduler.</p>\n<h2>Task Dependencies and Types</h2>\n<p>A task is a basic unit of execution in PyDolphinScheduler.</p>\n<p>In essence, tasks are the nodes of a Directed Acyclic Graph, i.e., they are arranged into DAGs. Tasks have downstream and upstream dependencies set between them, which helps express the order they should execute in.</p>\n<p>Tasks are declared using this command:</p>\n<p>pydolphinscheduler.tasks.Shell</p>\n<p>This command requires a parameter name and command.</p>\n<p>Here are four examples of task declaration:\n<img src=\"https://miro.medium.com/max/630/0*0abMa6_VRCycef7o\" alt=\"\"></p>\n<p>PyDolphinScheduler has numerous task types:</p>\n<p>Python Function Wrapper\nShell\nSQL\nPython\nHTTP\nSwitch\nCondition\nMap Reduce\nProcedure\nDatax\nSub Process\nFlink\nTask dependencies are the order in which tasks must be performed.</p>\n<p>One of the critical aspects of using tasks is defining how each task relates to one another, specifically the upstream and downstream tasks.</p>\n<p>Firstly, you declare the tasks, and then you declare their dependencies.</p>\n<p>Setting task dependence is quite easy. You can use the following:</p>\n<p>set_downstream or &gt;&gt;\nset_upstream or &lt;&lt;\nLet’s take an example to illustrate the point.</p>\n<p>In the following code, task_parent is the leading task of the entire workflow.\ntask_child_one and task_child_two are the two downstream tasks\nThe task called task_union will not run unless both the task_child_one and task_child_two are done, as they are upstream.\n<img src=\"https://miro.medium.com/max/630/0*O-OJwFXNUyfMVeRQ\" alt=\"\"></p>\n<h2>Useful PyScheduler Documentation Links</h2>\n<p>To learn more about PythonScheduler, refer to these links:</p>\n<p>PyDolphinScheduler homepage\nInstallation guide for PyDolphinScheduler\nPyDolphinScheduler tutorials\nPyDolphinScheduler tasks</p>\n<h2>About AWS Support</h2>\n<p>Let’s get straight to the point.</p>\n<p>Amazon Web Services offers a fully integrated portfolio of various cloud-computing services to help developers and data engineers build, deploy, and manage big data applications.</p>\n<p>The best thing about AWS?</p>\n<p>There’s no need to worry about hardware procurement or fret over infrastructure maintenance. This helps you focus resources and time on building.\n<img src=\"https://miro.medium.com/max/630/0*AKaFFrBSDWHO4egJ\" alt=\"\"></p>\n<p>So, why are we talking about AWS here?</p>\n<p>The success of Apache DolphinScheduler’s visual DAG interface heralded many international users. While these users loved DolphinScheduler’s capabilities, most of their projects involved overseas vendors such as AWS.</p>\n<p>Without dedicated support for AWS, many users were frustrated. This prompted the developers at DolphinScheduler to implement support for the vendor.</p>\n<p>In the first quarter of 2022, developers added support for some of the most popular tools and services. This proved to be one of the most significant additions to Apache DolphnScheduler.</p>\n<p>Apache DolphinScheduler now supports Amazon EMR and Amazon Redshift. In addition, there’s resource center support for Amazon S3, too.</p>\n<p>Let’s take a deep dive into these task types and look at how they have dramatically changed the way developers use Apache DS.</p>\n<h3>Amazon EMR</h3>\n<p>Amazon EMR, formerly known as the Amazon Elastic MapReduce, is a managed cluster platform that aims to simplify operating big data frameworks — including Apache Spark and Apache Hadoop — on AWS to analyze copious amounts of data.\n<img src=\"https://miro.medium.com/max/630/0*pJUztHHC1YIiWHn9\" alt=\"\"></p>\n<p>Furthermore, Amazon EMR offers the capability to transform and transfer large volumes of data into and out of other AWS services, like Amazon S3 for data stores and Amazon DynamoDB for databases.</p>\n<p>So how does Amazon EMR support help Apache DolphinScheduler users?</p>\n<p>AWS integration: Having support for Amazon EMR means users can get the best of both worlds, with Amazon EMR’s flexibility, scalability, reliability, and quick deployment. Users who have already used Amazon services can now easily define and schedule their workflows on Apache DolphinScheduler.</p>\n<p>In addition, Amazon EMR offers robust security features by leveraging other services such as IAM and Amazon VPC to help secure data and clusters.</p>\n<p>Combining Apache DolphinScheduler’s error detection and handling features with Amazon EMR’s management interfaces and log files can troubleshoot issues and failures quickly.\n<img src=\"https://miro.medium.com/max/630/0*wD_vt1-OT42FRvff\" alt=\"\"></p>\n<p>DS now has support for ‘RunJobFlow’ feature of Amazon EMR, which allows users to submit multiple steps to the service and specify the number of resources to be used.</p>\n<h3>Amazon RedShift</h3>\n<p>Amazon Redshift is a data warehouse that “uses SQL to analyze both structured and semi-structured data lakes, operational databases, and data warehouses through AWS-designed hardware and machine learning to deliver the best ROI at all scales.\n<img src=\"https://miro.medium.com/max/630/0*0V5XJ4qgsml26ZW_\" alt=\"\"></p>\n<p>It helps collaborate and share data, optimizes business intelligence, improves demand forecast, and above all, increases developer productivity.</p>\n<p>Again, how does adding Amazon RedShift to DolphinScheduler benefit users?</p>\n<p>Amazon RedShift allows users to focus on getting insights from data within seconds for various needs without worrying about managing the complete data warehouse. It also helps run predictive analytics on complex and scaled data across data lakes, databases, and even third-party data sets.</p>\n<p>In addition, users can get up to 3X better price performance compared to other cloud data warehouses through RedShift’s automated optimizations aimed at improving query speed.</p>\n<p>And just like Amazon EMR, RedShift also benefits greatly from AWS’s comprehensive security capabilities by providing data security out of the box (without any additional cost).\n<img src=\"https://miro.medium.com/max/630/0*8dg_uEvvjaXA9SCR\" alt=\"\"></p>\n<p>Apache DolphinScheduler has now extended support for Amazon RedShift data sources for SQL task types. Users can run RedShift tasks by selecting the “RedShift” data source in the SQL task type. For a quick recap, SQL task type is used to connect to databases and execute SQL commands.</p>\n<h3>Amazon S3</h3>\n<p>Amazon S3, or Amazon Simple Storage Service, is an object storage service that offers powerful scalability, performance, and security. Users can leverage Amazon S3 to store and protect large amounts of data for multiple use cases, including data lakes, websites, mobile applications, big data analytics, and more.\n<img src=\"https://miro.medium.com/max/630/0*vtdKBMiYZfF2Ml1d\" alt=\"\"></p>\n<p>Let’s pose the same question: How do Apache DolphinScheduler users benefit from this support addition?</p>\n<p>Amazon S3 is one of the cutting-edge technologies in cloud data storage and offers numerous benefits at a very low cost. Coupled with the ease of migration and simplicity in management, users can gather and store copious amounts of data reliably and securely.\n<img src=\"https://miro.medium.com/max/630/0*ta1fs-BBWinWp879\" alt=\"\"></p>\n<p>Apache DolphinScheduler’s resource center now supports Amazon S3 for uploading resources, adding to its already impressive support for local and HDFS resource storage.</p>\n<p>Here’s a brief guide on how to use DolphinScheduler’s resource center:</p>\n<p>The resource center is used for uploading files, UDF functions, and task group management.\n<img src=\"https://miro.medium.com/max/630/0*mCU2pz2iKryETiVa\" alt=\"\"></p>\n<p>Creating files: You can create files — supported file formats include txt, py, sql, xml, and more.\n<img src=\"https://miro.medium.com/max/630/0*OdGnPDD870bQX-bC\" alt=\"\"></p>\n<p>Uploading files: Users can click the “Upload file” button or even drag-and-drop files.\n<img src=\"https://miro.medium.com/max/630/0*lQSrpQRftyxPC5q4\" alt=\"\"></p>\n<p>Viewing files: Users can click on files that are viewable and check out the file details.</p>\n<p>For more information about the resource center, please visit this link.</p>\n<p>Future Support\nApache DolphinScheduler also has two more future additions in their pipelines: Amazon Athena and AWS DataSync.</p>\n<p>These exciting additions will add more functionalities to the robust scheduler platform, paving the way for more inclusive projects and business processes.\n<img src=\"https://miro.medium.com/max/630/0*tuxu-pPzQWoz7f53\" alt=\"\"></p>\n<p>Useful AWS Support Documentation Links\nTo learn more about AWS in DolphinScheduler, refer to these links:</p>\n<ul>\n<li>Amazon EMR</li>\n<li>Amazon RedShift</li>\n<li>Amazon S3</li>\n</ul>\n<p>Conclusion\nApache DolphinScheduler makes scheduling workflows a breeze with its DAG interface, multiple task types, no-code workflows, and more. PyDolphinScheduler streamlines the process of defining tasks, and the recent support for AWS platforms immensely boosts the scheduler’s capabilities.</p>\n<p>Apache DolphinScheduler’s popularity grew as it is used by tech giants, including Lenovo, IBM China, and Dell.</p>\n<p>This exhaustive guide covered the basics to help you gain a brief understanding of PyDolphinScheduler and AWS components. We hope this article prompts you to go out and experiment with the features for yourself.</p>\n<p>Adios!</p>\n<p>Join the Community\nThere are numerous ways and channels to participate and contribute to the growing DolphinScheduler community. Some ways you can do so: Documentation, translation, testing, Q&amp;A, keynote speeches, articles, and more.</p>\n<p>Check out the comprehensive guide explaining how to participate in the contribution.</p>\n<p>Check these links for issues compiled by the community:</p>\n<p>For novices\nFor experts/non-newbies\nUseful links:</p>\n<p>Github repository\nOfficial website\nYoutube\nSlack\nMailing list: dev@dolphinscheduler@apache.org\nTwitter handle: @DolphinSchedule</p>\n",
  "time": "2022-8-26",
  "author": "Leonard Nie",
  "title": "apache DolphinScheduler Extends Capabilities Through Python API and AWS Support",
  "type": "tech",
  "label": "Tech Sharing"
}