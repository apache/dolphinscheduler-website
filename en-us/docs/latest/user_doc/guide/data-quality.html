<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="keywords" content="data-quality">
  <meta name="description" content="data-quality">
  <title>data-quality</title>
  <link rel="shortcut icon" href="/img/favicon.ico">
  <link rel="stylesheet" href="/build/vendor.eeae4ed.css">
</head>
<body>
  <div id="root"><div class="md2html docs-page" data-reactroot=""><header class="header-container header-container-dark"><div class="banner-tips"><div>🤔 Have queries regarding Apache DolphinScheduler, Join Slack channel to disscuss them <a class="link-tips" href="https://s.apache.org/dolphinscheduler-slack">join #dolphinscheduler channel</a>! 🌟</div></div><div class="header-body"><span class="mobile-menu-btn mobile-menu-btn-dark"></span><a href="/en-us/index.html"><img class="logo" src="/img/hlogo_white.svg"/></a><div class="search search-dark"><span class="icon-search"></span></div><span class="language-switch language-switch-dark">中</span><div class="header-menu"><div><ul class="ant-menu whiteClass ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/index.html" target="_self">HOME</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-item-selected" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span class="submenu-title-wrapper"><a href="/en-us/docs/latest/user_doc/about/introduction.html" target="_self">DOCS</a></span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/download/download.html" target="_self">DOWNLOAD</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/blog/index.html" target="_self">BLOG</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/development/development-environment-setup.html" target="_self">DEVELOPMENT</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/community/team.html" target="_self">COMMUNITY</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span class="submenu-title-wrapper"><a href="https://www.apache.org/" target="_blank">ASF</a></span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/user/index.html" target="_self">USER</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></div></div><div class="mobile-menu"><div class="mobile-menu-content"><div class="mobile-menu-list"><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/index.html" target="_self">HOME</a></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/docs/latest/user_doc/about/introduction.html" target="_self">DOCS</a><em class="mobile-menu-icon"></em><div class="mobile-sub-menus"><div class="mobile-sub-menu-item"><a href="/en-us/docs/latest/user_doc/about/introduction.html" target="_self">latest(3.0.0-beta-2)</a></div><div class="mobile-sub-menu-item"><a href="/en-us/docs/2.0.6/user_doc/guide/quick-start.html" target="_self">2.0.6</a></div><div class="mobile-sub-menu-item"><a href="/en-us/docs/release/history-versions.html" target="_self">Older Versions</a></div></div></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/download/download.html" target="_self">DOWNLOAD</a></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/blog/index.html" target="_self">BLOG</a></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/development/development-environment-setup.html" target="_self">DEVELOPMENT</a></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/community/team.html" target="_self">COMMUNITY</a></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="https://www.apache.org/" target="_blank">ASF</a><em class="mobile-menu-icon"></em><div class="mobile-sub-menus"><div class="mobile-sub-menu-item"><a href="https://www.apache.org/" target="_blank">Foundation</a></div><div class="mobile-sub-menu-item"><a href="https://www.apache.org/licenses/" target="_blank">License</a></div><div class="mobile-sub-menu-item"><a href="https://www.apache.org/events/current-event" target="_blank">Events</a></div><div class="mobile-sub-menu-item"><a href="https://www.apache.org/security/" target="_blank">Security</a></div><div class="mobile-sub-menu-item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank">Sponsorship</a></div><div class="mobile-sub-menu-item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank">Thanks</a></div></div></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/user/index.html" target="_self">USER</a></div></div></div><div class="mobile-menu-dummy"></div></div></div></header><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>About</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/about/introduction.html" target="_self">Introduction</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/about/hardware.html" target="_self">Hardware Environment</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/about/glossary.html" target="_self">Glossary</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Quick Start</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/start/quick-start.html" target="_self">Quick Start</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/start/docker.html" target="_self">Docker Deployment</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Introduction to Functions</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/homepage.html" target="_self">Workflow Overview</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Project<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/project/project-list.html" target="_self">Project List</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/project/workflow-definition.html" target="_self">Workflow Definition</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/project/workflow-instance.html" target="_self">Workflow Instance</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/project/task-instance.html" target="_self">Task Instance</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/3.0.0/user_doc/guide/project/task-definition.html" target="_self">Task Definition</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Task<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/shell.html" target="_self">Shell</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/sub-process.html" target="_self">SubProcess</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/dependent.html" target="_self">Dependent</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/stored-procedure.html" target="_self">Stored Procedure</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/sql.html" target="_self">SQL</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/spark.html" target="_self">Spark</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/map-reduce.html" target="_self">MapReduce</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/python.html" target="_self">Python</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/flink.html" target="_self">Flink</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/http.html" target="_self">HTTP</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/datax.html" target="_self">DataX</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/pigeon.html" target="_self">Pigeon</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/conditions.html" target="_self">Conditions</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/switch.html" target="_self">Switch</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/emr.html" target="_self">Amazon EMR</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/task/zeppelin.html" target="_self">Apache Zeppelin</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Parameter<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/parameter/built-in.html" target="_self">Built-in Parameter</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/parameter/global.html" target="_self">Global Parameter</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/parameter/local.html" target="_self">Local Parameter</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/parameter/context.html" target="_self">Parameter Context</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/parameter/priority.html" target="_self">Parameter Priority</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Data Source<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/datasource/introduction.html" target="_self">Introduction</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/datasource/mysql.html" target="_self">MySQL</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/datasource/postgresql.html" target="_self">PostgreSQL</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/datasource/hive.html" target="_self">HIVE</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/datasource/spark.html" target="_self">Spark</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Alert<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/alert/alert_plugin_user_guide.html" target="_self">Alert Component User Guide </a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/alert/telegram.html" target="_self">Telegram</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/alert/dingtalk.html" target="_self">Ding Talk</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/alert/enterprise-wechat.html" target="_self">Enterprise Wechat</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/alert/enterprise-webexteams.html" target="_self">Enterprise Webexteams</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/alert/script.html" target="_self">Script</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/alert/http.html" target="_self">Http</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Resource<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/resource/configuration.html" target="_self">Configuration</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/resource/file-manage.html" target="_self">File Manage</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/resource/udf-manage.html" target="_self">UDF Manage</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/resource/task-group.html" target="_self">Task Group Manage</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/monitor.html" target="_self">Monitor</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/security.html" target="_self">Security</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>How-To<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/3.0.0/user_doc/guide/howto/general-setting.html" target="_self">General Setting</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/data-quality.html" target="_self">Data Quality</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/upgrade.html" target="_self">Upgrade</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/expansion-reduction.html" target="_self">Expansion and Reduction</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Installation</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/installation/standalone.html" target="_self">Standalone Deployment</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/installation/pseudo-cluster.html" target="_self">Pseudo Cluster Deployment</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/installation/cluster.html" target="_self">Cluster Deployment</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/installation/kubernetes.html" target="_self">Kubernetes Deployment</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Architecture Guide</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/architecture/design.html" target="_self">Architecture Design</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/architecture/metadata.html" target="_self">Metadata</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/architecture/configuration.html" target="_self">Configuration File</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/architecture/task-structure.html" target="_self">Task Structure</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/architecture/load-balance.html" target="_self">Load Balance</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/architecture/cache.html" target="_self">Cache</a></li></ul></li><li class="menu-item menu-item-level-1"><span>API</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/3.0.0/user_doc/guide/open-api.html" target="_self">Open API</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/python/index.html" target="_self">PyDolphinScheduler</a></li></ul></li><li class="menu-item menu-item-level-1"><span>FAQ</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/release/faq.html" target="_self">FAQ</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Older Versions</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/release/history-versions.html" target="_self">Older Versions</a></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>Overview</h1>
<h2>Introduction</h2>
<p>The data quality task is used to check the data accuracy during the integration and processing of data. Data quality tasks in this release include single-table checking, single-table custom SQL checking, multi-table accuracy, and two-table value comparisons. The running environment of the data quality task is Spark 2.4.0, and other versions have not been verified, and users can verify by themselves.</p>
<ul>
<li>The execution flow of the data quality task is as follows:</li>
</ul>
<blockquote>
<p>The user defines the task in the interface, and the user input value is stored in <code>TaskParam</code>
When running a task, <code>Master</code> will parse <code>TaskParam</code>, encapsulate the parameters required by <code>DataQualityTask</code> and send it to <code>Worker</code>.
Worker runs the data quality task. After the data quality task finishes running, it writes the statistical results to the specified storage engine. The current data quality task result is stored in the <code>t_ds_dq_execute_result</code> table of <code>dolphinscheduler</code>
<code>Worker</code> sends the task result to <code>Master</code>, after <code>Master</code> receives <code>TaskResponse</code>, it will judge whether the task type is <code>DataQualityTask</code>, if so, it will read the corresponding result from <code>t_ds_dq_execute_result</code> according to <code>taskInstanceId</code>, and then The result is judged according to the check mode, operator and threshold configured by the user. If the result is a failure, the corresponding operation, alarm or interruption will be performed according to the failure policy configured by the user.</p>
</blockquote>
<p>Add config : <code>&lt;server-name&gt;/conf/common.properties</code></p>
<pre><code class="language-properties"><span class="hljs-meta">data-quality.jar.name</span>=<span class="hljs-string">dolphinscheduler-data-quality-dev-SNAPSHOT.jar</span>
</code></pre>
<p>Please fill in <code>data-quality.jar.name</code> according to the actual package name,
If you package <code>data-quality</code> separately, remember to modify the package name to be consistent with <code>data-quality.jar.name</code>.
If the old version is upgraded and used, you need to execute the <code>sql</code> update script to initialize the database before running.
If you want to use <code>MySQL</code> data, you need to comment out the <code>scope</code> of <code>MySQL</code> in <code>pom.xml</code>
Currently only <code>MySQL</code>, <code>PostgreSQL</code> and <code>HIVE</code> data sources have been tested, other data sources have not been tested yet
<code>Spark</code> needs to be configured to read <code>Hive</code> metadata, <code>Spark</code> does not use <code>jdbc</code> to read <code>Hive</code></p>
<h2>Detail</h2>
<ul>
<li>
<p>CheckMethod: [CheckFormula][Operator][Threshold], if the result is true, it indicates that the data does not meet expectations, and the failure strategy is executed.</p>
</li>
<li>
<p>CheckFormula：</p>
<ul>
<li>Expected-Actual</li>
<li>Actual-Expected</li>
<li>(Actual/Expected)x100%</li>
<li>(Expected-Actual)/Expected x100%</li>
</ul>
</li>
<li>
<p>Operator：=、&gt;、&gt;=、&lt;、&lt;=、!=</p>
</li>
<li>
<p>ExpectedValue</p>
<ul>
<li>FixValue</li>
<li>DailyAvg</li>
<li>WeeklyAvg</li>
<li>MonthlyAvg</li>
<li>Last7DayAvg</li>
<li>Last30DayAvg</li>
<li>SrcTableTotalRows</li>
<li>TargetTableTotalRows</li>
</ul>
</li>
<li>
<p>example</p>
<ul>
<li>CheckFormula：Expected-Actual</li>
<li>Operator：&gt;</li>
<li>Threshold：0</li>
<li>ExpectedValue：FixValue=9。</li>
</ul>
</li>
</ul>
<p>Assuming that the actual value is 10, the operator is &gt;, and the expected value is 9, then the result 10 -9 &gt; 0 is true, which means that the row data in the empty column has exceeded the threshold, and the task is judged to fail</p>
<h1>Guide</h1>
<h2>NullCheck</h2>
<h3>Introduction</h3>
<p>The goal of the null value check is to check the number of empty rows in the specified column. The number of empty rows can be compared with the total number of rows or a specified threshold. If it is greater than a certain threshold, it will be judged as failure.</p>
<ul>
<li>
<p>Calculate the SQL statement that the specified column is empty as follows:</p>
<pre><code class="language-sql">SELECT COUNT(*) AS miss FROM ${src_table} WHERE (${src_field} is null or ${src_field} = &#x27;&#x27;) AND (${src_filter})
</code></pre>
</li>
<li>
<p>The SQL to calculate the total number of rows in the table is as follows:</p>
<pre><code class="language-sql">SELECT COUNT(*) AS total FROM ${src_table} WHERE (${src_filter})
</code></pre>
</li>
</ul>
<h3>UI Guide</h3>
<p><img src="/img/tasks/demo/null_check.png" alt="dataquality_null_check"></p>
<ul>
<li>Source data type: select MySQL, PostgreSQL, etc.</li>
<li>Source data source: the corresponding data source under the source data type</li>
<li>Source data table: drop-down to select the table where the validation data is located</li>
<li>Src filter conditions: such as the title, it will also be used when counting the total number of rows in the table, optional</li>
<li>Src table check column: drop-down to select the check column name</li>
<li>Check method:
<ul>
<li>[Expected-Actual]</li>
<li>[Actual-Expected]</li>
<li>[Actual/Expected]x100%</li>
<li>[(Expected-Actual)/Expected]x100%</li>
</ul>
</li>
<li>Check operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Threshold: The value used in the formula for comparison</li>
<li>Failure strategy
<ul>
<li>Alert: The data quality task failed, the DolphinScheduler task result is successful, and an alert is sent</li>
<li>Blocking: The data quality task fails, the DolphinScheduler task result is failed, and an alarm is sent</li>
</ul>
</li>
<li>Expected value type: select the desired type from the drop-down menu</li>
</ul>
<h2>Timeliness Check</h2>
<h3>Introduction</h3>
<p>The timeliness check is used to check whether the data is processed within the expected time. The start time and end time can be specified to define the time range. If the amount of data within the time range does not reach the set threshold, the check task will be judged as fail</p>
<h3>UI Guide</h3>
<p><img src="/img/tasks/demo/timeliness_check.png" alt="dataquality_timeliness_check"></p>
<ul>
<li>Source data type: select MySQL, PostgreSQL, etc.</li>
<li>Source data source: the corresponding data source under the source data type</li>
<li>Source data table: drop-down to select the table where the validation data is located</li>
<li>Src filter conditions: such as the title, it will also be used when counting the total number of rows in the table, optional</li>
<li>Src table check column: drop-down to select check column name</li>
<li>start time: the start time of a time range</li>
<li>end time: the end time of a time range</li>
<li>Time Format: Set the corresponding time format</li>
<li>Check method:
<ul>
<li>[Expected-Actual]</li>
<li>[Actual-Expected]</li>
<li>[Actual/Expected]x100%</li>
<li>[(Expected-Actual)/Expected]x100%</li>
</ul>
</li>
<li>Check operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Threshold: The value used in the formula for comparison</li>
<li>Failure strategy
<ul>
<li>Alert: The data quality task failed, the DolphinScheduler task result is successful, and an alert is sent</li>
<li>Blocking: The data quality task fails, the DolphinScheduler task result is failed, and an alarm is sent</li>
</ul>
</li>
<li>Expected value type: select the desired type from the drop-down menu</li>
</ul>
<h2>Field Length Check</h2>
<h3>Introduction</h3>
<p>The goal of field length verification is to check whether the length of the selected field meets the expectations. If there is data that does not meet the requirements, and the number of rows exceeds the threshold, the task will be judged to fail</p>
<h3>UI Guide</h3>
<p><img src="/img/tasks/demo/field_length_check.png" alt="dataquality_length_check"></p>
<ul>
<li>Source data type: select MySQL, PostgreSQL, etc.</li>
<li>Source data source: the corresponding data source under the source data type</li>
<li>Source data table: drop-down to select the table where the validation data is located</li>
<li>Src filter conditions: such as the title, it will also be used when counting the total number of rows in the table, optional</li>
<li>Src table check column: drop-down to select the check column name</li>
<li>Logical operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Field length limit: like the title</li>
<li>Check method:
<ul>
<li>[Expected-Actual]</li>
<li>[Actual-Expected]</li>
<li>[Actual/Expected]x100%</li>
<li>[(Expected-Actual)/Expected]x100%</li>
</ul>
</li>
<li>Check operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Threshold: The value used in the formula for comparison</li>
<li>Failure strategy
<ul>
<li>Alert: The data quality task failed, the DolphinScheduler task result is successful, and an alert is sent</li>
<li>Blocking: The data quality task fails, the DolphinScheduler task result is failed, and an alarm is sent</li>
</ul>
</li>
<li>Expected value type: select the desired type from the drop-down menu</li>
</ul>
<h2>Uniqueness Check</h2>
<h3>Introduction</h3>
<p>The goal of the uniqueness check is to check whether the field is duplicated. It is generally used to check whether the primary key is duplicated. If there is duplication and the threshold is reached, the check task will be judged to be failed.</p>
<h3>UI Guide</h3>
<p><img src="/img/tasks/demo/uniqueness_check.png" alt="dataquality_uniqueness_check"></p>
<ul>
<li>Source data type: select MySQL, PostgreSQL, etc.</li>
<li>Source data source: the corresponding data source under the source data type</li>
<li>Source data table: drop-down to select the table where the validation data is located</li>
<li>Src filter conditions: such as the title, it will also be used when counting the total number of rows in the table, optional</li>
<li>Src table check column: drop-down to select the check column name</li>
<li>Check method:
<ul>
<li>[Expected-Actual]</li>
<li>[Actual-Expected]</li>
<li>[Actual/Expected]x100%</li>
<li>[(Expected-Actual)/Expected]x100%</li>
</ul>
</li>
<li>Check operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Threshold: The value used in the formula for comparison</li>
<li>Failure strategy
<ul>
<li>Alert: The data quality task failed, the DolphinScheduler task result is successful, and an alert is sent</li>
<li>Blocking: The data quality task fails, the DolphinScheduler task result is failed, and an alarm is sent</li>
</ul>
</li>
<li>Expected value type: select the desired type from the drop-down menu</li>
</ul>
<h2>Regular Expression Check</h2>
<h3>Introduction</h3>
<p>The goal of regular expression verification is to check whether the format of the value of a field meets the requirements, such as time format, email format, ID card format, etc. If there is data that does not meet the format and exceeds the threshold, the task will be judged as failed.</p>
<h3>UI Guide</h3>
<p><img src="/img/tasks/demo/regexp_check.png" alt="dataquality_regex_check"></p>
<ul>
<li>Source data type: select MySQL, PostgreSQL, etc.</li>
<li>Source data source: the corresponding data source under the source data type</li>
<li>Source data table: drop-down to select the table where the validation data is located</li>
<li>Src filter conditions: such as the title, it will also be used when counting the total number of rows in the table, optional</li>
<li>Src table check column: drop-down to select check column name</li>
<li>Regular expression: as title</li>
<li>Check method:
<ul>
<li>[Expected-Actual]</li>
<li>[Actual-Expected]</li>
<li>[Actual/Expected]x100%</li>
<li>[(Expected-Actual)/Expected]x100%</li>
</ul>
</li>
<li>Check operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Threshold: The value used in the formula for comparison</li>
<li>Failure strategy
<ul>
<li>Alert: The data quality task failed, the DolphinScheduler task result is successful, and an alert is sent</li>
<li>Blocking: The data quality task fails, the DolphinScheduler task result is failed, and an alarm is sent</li>
</ul>
</li>
<li>Expected value type: select the desired type from the drop-down menu</li>
</ul>
<h2>Enumeration Check</h2>
<h3>Introduction</h3>
<p>The goal of enumeration value verification is to check whether the value of a field is within the range of enumeration values. If there is data that is not in the range of enumeration values ​​and exceeds the threshold, the task will be judged to fail</p>
<h3>UI Guide</h3>
<p><img src="/img/tasks/demo/enumeration_check.png" alt="dataquality_enum_check"></p>
<ul>
<li>Source data type: select MySQL, PostgreSQL, etc.</li>
<li>Source data source: the corresponding data source under the source data type</li>
<li>Source data table: drop-down to select the table where the validation data is located</li>
<li>Src table filter conditions: such as title, also used when counting the total number of rows in the table, optional</li>
<li>Src table check column: drop-down to select the check column name</li>
<li>List of enumeration values: separated by commas</li>
<li>Check method:
<ul>
<li>[Expected-Actual]</li>
<li>[Actual-Expected]</li>
<li>[Actual/Expected]x100%</li>
<li>[(Expected-Actual)/Expected]x100%</li>
</ul>
</li>
<li>Check operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Threshold: The value used in the formula for comparison</li>
<li>Failure strategy
<ul>
<li>Alert: The data quality task failed, the DolphinScheduler task result is successful, and an alert is sent</li>
<li>Blocking: The data quality task fails, the DolphinScheduler task result is failed, and an alarm is sent</li>
</ul>
</li>
<li>Expected value type: select the desired type from the drop-down menu</li>
</ul>
<h2>Table Count Check</h2>
<h3>Introduction</h3>
<p>The goal of table row number verification is to check whether the number of rows in the table reaches the expected value. If the number of rows does not meet the standard, the task will be judged as failed.</p>
<h3>UI Guide</h3>
<p><img src="/img/tasks/demo/table_count_check.png" alt="dataquality_count_check"></p>
<ul>
<li>Source data type: select MySQL, PostgreSQL, etc.</li>
<li>Source data source: the corresponding data source under the source data type</li>
<li>Source data table: drop-down to select the table where the validation data is located</li>
<li>Src filter conditions: such as the title, it will also be used when counting the total number of rows in the table, optional</li>
<li>Src table check column: drop-down to select the check column name</li>
<li>Check method:
<ul>
<li>[Expected-Actual]</li>
<li>[Actual-Expected]</li>
<li>[Actual/Expected]x100%</li>
<li>[(Expected-Actual)/Expected]x100%</li>
</ul>
</li>
<li>Check operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Threshold: The value used in the formula for comparison</li>
<li>Failure strategy
<ul>
<li>Alert: The data quality task failed, the DolphinScheduler task result is successful, and an alert is sent</li>
<li>Blocking: The data quality task fails, the DolphinScheduler task result is failed, and an alarm is sent</li>
</ul>
</li>
<li>Expected value type: select the desired type from the drop-down menu</li>
</ul>
<h2>Custom SQL Check</h2>
<h3>Introduction</h3>
<h3>UI Guide</h3>
<p><img src="/img/tasks/demo/custom_sql_check.png" alt="dataquality_custom_sql_check"></p>
<ul>
<li>Source data type: select MySQL, PostgreSQL, etc.</li>
<li>Source data source: the corresponding data source under the source data type</li>
<li>Source data table: drop-down to select the table where the data to be verified is located</li>
<li>Actual value name: alias in SQL for statistical value calculation, such as max_num</li>
<li>Actual value calculation SQL: SQL for outputting actual values,
<ul>
<li>Note: The SQL must be statistical SQL, such as counting the number of rows, calculating the maximum value, minimum value, etc.</li>
<li>select max(a) as max_num from ${src_table}, the table name must be filled like this</li>
</ul>
</li>
<li>Src filter conditions: such as the title, it will also be used when counting the total number of rows in the table, optional</li>
<li>Check method:</li>
<li>Check operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Threshold: The value used in the formula for comparison</li>
<li>Failure strategy
<ul>
<li>Alert: The data quality task failed, the DolphinScheduler task result is successful, and an alert is sent</li>
<li>Blocking: The data quality task fails, the DolphinScheduler task result is failed, and an alarm is sent</li>
</ul>
</li>
<li>Expected value type: select the desired type from the drop-down menu</li>
</ul>
<h2>Accuracy check of multi-table</h2>
<h3>Introduction</h3>
<p>Accuracy checks are performed by comparing the accuracy differences of data records for selected fields between two tables, examples are as follows</p>
<ul>
<li>table test1</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">c1</th>
<th style="text-align:center">c2</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td style="text-align:center">2</td>
</tr>
</tbody>
</table>
<ul>
<li>table test2</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">c21</th>
<th style="text-align:center">c22</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td style="text-align:center">3</td>
</tr>
</tbody>
</table>
<p>If you compare the data in c1 and c21, the tables test1 and test2 are exactly the same. If you compare c2 and c22, the data in table test1 and table test2 are inconsistent.</p>
<h3>UI Guide</h3>
<p><img src="/img/tasks/demo/multi_table_accuracy_check.png" alt="dataquality_multi_table_accuracy_check"></p>
<ul>
<li>Source data type: select MySQL, PostgreSQL, etc.</li>
<li>Source data source: the corresponding data source under the source data type</li>
<li>Source data table: drop-down to select the table where the data to be verified is located</li>
<li>Src filter conditions: such as the title, it will also be used when counting the total number of rows in the table, optional</li>
<li>Target data type: choose MySQL, PostgreSQL, etc.</li>
<li>Target data source: the corresponding data source under the source data type</li>
<li>Target data table: drop-down to select the table where the data to be verified is located</li>
<li>Target filter conditions: such as the title, it will also be used when counting the total number of rows in the table, optional</li>
<li>Check column:
<ul>
<li>Fill in the source data column, operator and target data column respectively</li>
</ul>
</li>
<li>Verification method: select the desired verification method</li>
<li>Operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Failure strategy
<ul>
<li>Alert: The data quality task failed, the DolphinScheduler task result is successful, and an alert is sent</li>
<li>Blocking: The data quality task fails, the DolphinScheduler task result is failed, and an alarm is sent</li>
</ul>
</li>
<li>Expected value type: select the desired type in the drop-down menu, only SrcTableTotalRow, TargetTableTotalRow and fixed value are suitable for selection here</li>
</ul>
<h2>Comparison of the values checked by the two tables</h2>
<h3>Introduction</h3>
<p>Two-table value comparison allows users to customize different SQL statistics for two tables and compare the corresponding values. For example, for the source table A, the total amount of a certain column is calculated, and for the target table, the total amount of a certain column is calculated. value sum2, compare sum1 and sum2 to determine the check result</p>
<h3>UI Guide</h3>
<p><img src="/img/tasks/demo/multi_table_comparison_check.png" alt="dataquality_multi_table_comparison_check"></p>
<ul>
<li>Source data type: select MySQL, PostgreSQL, etc.</li>
<li>Source data source: the corresponding data source under the source data type</li>
<li>Source data table: the table where the data is to be verified</li>
<li>Actual value name: Calculate the alias in SQL for the actual value, such as max_age1</li>
<li>Actual value calculation SQL: SQL for outputting actual values,
<ul>
<li>Note: The SQL must be statistical SQL, such as counting the number of rows, calculating the maximum value, minimum value, etc.</li>
<li>select max(age) as max_age1 from ${src_table} The table name must be filled like this</li>
</ul>
</li>
<li>Target data type: choose MySQL, PostgreSQL, etc.</li>
<li>Target data source: the corresponding data source under the source data type</li>
<li>Target data table: the table where the data is to be verified</li>
<li>Expected value name: Calculate the alias in SQL for the expected value, such as max_age2</li>
<li>Expected value calculation SQL: SQL for outputting expected value,
<ul>
<li>Note: The SQL must be statistical SQL, such as counting the number of rows, calculating the maximum value, minimum value, etc.</li>
<li>select max(age) as max_age2 from ${target_table} The table name must be filled like this</li>
</ul>
</li>
<li>Verification method: select the desired verification method</li>
<li>Operators: =, &gt;, &gt;=, &lt;, &lt;=, ! =</li>
<li>Failure strategy
<ul>
<li>Alert: The data quality task failed, the DolphinScheduler task result is successful, and an alert is sent</li>
<li>Blocking: The data quality task fails, the DolphinScheduler task result is failed, and an alarm is sent</li>
</ul>
</li>
</ul>
<h2>Task result view</h2>
<p><img src="/img/tasks/demo/result.png" alt="dataquality_result"></p>
<h2>Rule View</h2>
<h3>List of rules</h3>
<p><img src="/img/tasks/demo/rule_list.png" alt="dataquality_rule_list"></p>
<h3>Rules Details</h3>
<p><img src="/img/tasks/demo/rule_detail.png" alt="dataquality_rule_detail"></p>
</div></section><footer class="footer-container"><div class="footer-body"><div><h3>About us</h3><h4>Do you need feedback? Please contact us through the following ways.</h4></div><div class="contact-container"><ul><li><a href="/en-us/community/development/subscribe.html"><img class="img-base" src="/img/emailgray.png"/><img class="img-change" src="/img/emailblue.png"/><p>Email List</p></a></li><li><a href="https://twitter.com/dolphinschedule"><img class="img-base" src="/img/twittergray.png"/><img class="img-change" src="/img/twitterblue.png"/><p>Twitter</p></a></li><li><a href="https://stackoverflow.com/questions/tagged/apache-dolphinscheduler"><img class="img-base" src="/img/stackoverflow.png"/><img class="img-change" src="/img/stackoverflow-selected.png"/><p>Stack Overflow</p></a></li><li><a href="https://s.apache.org/dolphinscheduler-slack"><img class="img-base" src="/img/slack.png"/><img class="img-change" src="/img/slack-selected.png"/><p>Slack</p></a></li></ul></div><div class="cols-container"><div class="docu-container"><h4>Documentation</h4><ul><li><a href="/en-us/development/architecture-design.html"><p>Overview</p></a></li><li><a href="/en-us/docs/latest/user_doc/guide/quick-start.html"><p>Quick start</p></a></li><li><a href="/en-us/development/development-environment-setup.html"><p>Developer guide</p></a></li></ul></div><div></div><div class="asf-container"><h4>ASF</h4><ul><li><a href="http://www.apache.org"><p>Foundation</p></a></li><li><a href="http://www.apache.org/licenses/"><p>License</p></a></li><li><a href="http://www.apache.org/events/current-event"><p>Events</p></a></li><li><a href="http://www.apache.org/foundation/sponsorship.html"><p>Sponsorship</p></a></li><li><a href="http://www.apache.org/foundation/thanks.html"><p>Thanks</p></a></li></ul></div></div><div class="copyright"><span>Copyright © 2019-2021 The Apache Software Foundation. Apache DolphinScheduler, DolphinScheduler, and its feather logo are trademarks of The Apache Software Foundation.</span></div></div></footer></div></div>
  <script src="/asset/js/react/react-with-addons.min.js"></script>
  <script src="/asset/js/react/react-dom.min.js"></script>
  <script>window.rootPath = '';</script>
  <script src="/build/vendor.36e600e.js"></script>
  <script src="/build/docs.md.db80b9c.js"></script>
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d6bc736fd9885d9a5dc938425ac062ad";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-899J8PYKJZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-899J8PYKJZ');
  </script>
</body>
</html>