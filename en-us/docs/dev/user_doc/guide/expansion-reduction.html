<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="keywords" content="expansion-reduction">
  <meta name="description" content="expansion-reduction">
  <title>expansion-reduction</title>
  <link rel="shortcut icon" href="/img/favicon.ico">
  <link rel="stylesheet" href="/build/vendor.eeae4ed.css">
</head>
<body>
  <div id="root"><div class="md2html docs-page" data-reactroot=""><header class="header-container header-container-dark"><div class="banner-tips"><div>ðŸ¤” Have queries regarding Apache DolphinScheduler, Join Slack channel to disscuss them <a class="link-tips" href="https://s.apache.org/dolphinscheduler-slack">join #dolphinscheduler channel</a>! ðŸŒŸ</div></div><div class="header-body"><span class="mobile-menu-btn mobile-menu-btn-dark"></span><a href="/en-us/index.html"><img class="logo" src="/img/hlogo_white.svg"/></a><div class="search search-dark"><span class="icon-search"></span></div><span class="language-switch language-switch-dark">ä¸­</span><div class="header-menu"><div><ul class="ant-menu whiteClass ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/index.html" target="_self">HOME</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-item-selected" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span class="submenu-title-wrapper"><a href="/en-us/docs/latest/user_doc/about/introduction.html" target="_self">DOCS</a></span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/download/download.html" target="_self">DOWNLOAD</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/blog/index.html" target="_self">BLOG</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/development/development-environment-setup.html" target="_self">DEVELOPMENT</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/community/team.html" target="_self">COMMUNITY</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span class="submenu-title-wrapper"><a href="https://www.apache.org/" target="_blank">ASF</a></span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item" role="menuitem"><a href="/en-us/user/index.html" target="_self">USER</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></div></div><div class="mobile-menu"><div class="mobile-menu-content"><div class="mobile-menu-list"><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/index.html" target="_self">HOME</a></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/docs/latest/user_doc/about/introduction.html" target="_self">DOCS</a><em class="mobile-menu-icon"></em><div class="mobile-sub-menus"><div class="mobile-sub-menu-item"><a href="/en-us/docs/latest/user_doc/about/introduction.html" target="_self">latest(3.0.0-beta-2)</a></div><div class="mobile-sub-menu-item"><a href="/en-us/docs/2.0.6/user_doc/guide/quick-start.html" target="_self">2.0.6</a></div><div class="mobile-sub-menu-item"><a href="/en-us/docs/release/history-versions.html" target="_self">Older Versions</a></div></div></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/download/download.html" target="_self">DOWNLOAD</a></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/blog/index.html" target="_self">BLOG</a></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/development/development-environment-setup.html" target="_self">DEVELOPMENT</a></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/community/team.html" target="_self">COMMUNITY</a></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="https://www.apache.org/" target="_blank">ASF</a><em class="mobile-menu-icon"></em><div class="mobile-sub-menus"><div class="mobile-sub-menu-item"><a href="https://www.apache.org/" target="_blank">Foundation</a></div><div class="mobile-sub-menu-item"><a href="https://www.apache.org/licenses/" target="_blank">License</a></div><div class="mobile-sub-menu-item"><a href="https://www.apache.org/events/current-event" target="_blank">Events</a></div><div class="mobile-sub-menu-item"><a href="https://www.apache.org/security/" target="_blank">Security</a></div><div class="mobile-sub-menu-item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank">Sponsorship</a></div><div class="mobile-sub-menu-item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank">Thanks</a></div></div></div><div class="mobile-menu-item"><a class="mobile-menu-title" href="/en-us/user/index.html" target="_self">USER</a></div></div></div><div class="mobile-menu-dummy"></div></div></div></header><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>About</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/about/introduction.html" target="_self">Introduction</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/about/features.html" target="_self">Features</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/about/hardware.html" target="_self">Hardware Environment</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/about/glossary.html" target="_self">Glossary</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Quick Start</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/start/quick-start.html" target="_self">Quick Start</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/start/docker.html" target="_self">Docker Deployment</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Introduction to Functions</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/homepage.html" target="_self">Application Homepage</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Project<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/project/project-list.html" target="_self">Project List</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/project/workflow-definition.html" target="_self">Workflow Definition</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/project/workflow-instance.html" target="_self">Workflow Instance</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/project/task-instance.html" target="_self">Task Instance</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/dev/user_doc/guide/project/task-definition.html" target="_self">Task Definition</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Task<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/shell.html" target="_self">Shell</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/sub-process.html" target="_self">SubProcess</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/dependent.html" target="_self">Dependent</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/stored-procedure.html" target="_self">Stored Procedure</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/sql.html" target="_self">SQL</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/spark.html" target="_self">Spark</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/map-reduce.html" target="_self">MapReduce</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/python.html" target="_self">Python</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/flink.html" target="_self">Flink</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/http.html" target="_self">HTTP</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/datax.html" target="_self">DataX</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/pigeon.html" target="_self">Pigeon</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/conditions.html" target="_self">Conditions</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/switch.html" target="_self">Switch</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/seatunnel.html" target="_self">SeaTunnel</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/emr.html" target="_self">Amazon EMR</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/zeppelin.html" target="_self">Apache Zeppelin</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/jupyter.html" target="_self">Jupyter</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/kubernetes.html" target="_self">Kubernetes</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/mlflow.html" target="_self">MLflow</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/openmldb.html" target="_self">Openmldb</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/dvc.html" target="_self">DVC</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/dinky.html" target="_self">Dinky</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/task/sagemaker.html" target="_self">SageMaker</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Parameter<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/parameter/built-in.html" target="_self">Built-in Parameter</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/parameter/global.html" target="_self">Global Parameter</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/parameter/local.html" target="_self">Local Parameter</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/parameter/context.html" target="_self">Parameter Context</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/parameter/priority.html" target="_self">Parameter Priority</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Data Source<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/datasource/mysql.html" target="_self">MySQL</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/datasource/postgresql.html" target="_self">PostgreSQL</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/datasource/hive.html" target="_self">HIVE</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/datasource/spark.html" target="_self">Spark</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/datasource/presto.html" target="_self">Presto</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/datasource/sqlserver.html" target="_self">SQL SERVER</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/datasource/redshift.html" target="_self">Amazon Redshift</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/datasource/clickhouse.html" target="_self">ClickHouse</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/datasource/db2.html" target="_self">IBM DB2</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/datasource/oracle.html" target="_self">Oracle</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Alert<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/alert/alert_plugin_user_guide.html" target="_self">Alert Component User Guide </a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/alert/telegram.html" target="_self">Telegram</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/alert/dingtalk.html" target="_self">Ding Talk</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/alert/enterprise-wechat.html" target="_self">Enterprise Wechat</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/alert/enterprise-webexteams.html" target="_self">Enterprise Webexteams</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/alert/script.html" target="_self">Script</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/alert/http.html" target="_self">Http</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Resource<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/resource/intro.html" target="_self">Introduction</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/resource/configuration.html" target="_self">Configuration</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/resource/file-manage.html" target="_self">File Manage</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/resource/udf-manage.html" target="_self">UDF Manage</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/resource/task-group.html" target="_self">Task Group Manage</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/monitor.html" target="_self">Monitor</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/security.html" target="_self">Security</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Metrics<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/user_doc/guide/metrics/metrics.html" target="_self">Metrics</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/data-quality.html" target="_self">Data Quality</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/upgrade.html" target="_self">Upgrade</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/expansion-reduction.html" target="_self">Expansion and Reduction</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Installation</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/installation/standalone.html" target="_self">Standalone Deployment</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/installation/pseudo-cluster.html" target="_self">Pseudo Cluster Deployment</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/installation/cluster.html" target="_self">Cluster Deployment</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/installation/kubernetes.html" target="_self">Kubernetes Deployment</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Architecture Guide</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/architecture/design.html" target="_self">Architecture Design</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/architecture/metadata.html" target="_self">Metadata</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/architecture/configuration.html" target="_self">Configuration File</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/architecture/task-structure.html" target="_self">Task Structure</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/architecture/load-balance.html" target="_self">Load Balance</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/architecture/cache.html" target="_self">Cache</a></li></ul></li><li class="menu-item menu-item-level-1"><span>API</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/open-api.html" target="_self">Open API</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/python/index.html" target="_self">PyDolphinScheduler</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/healthcheck.html" target="_self">Health Check</a></li></ul></li><li class="menu-item menu-item-level-1"><span>FAQ</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/howto/general-setting.html" target="_self">General Setting</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/user_doc/guide/howto/datasource-setting.html" target="_self">Datasource Setting</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/release/faq.html" target="_self">Others</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Older Versions</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/release/history-versions.html" target="_self">Older Versions</a></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>DolphinScheduler Expansion and Reduction</h1>
<h2>Expansion</h2>
<p>This article describes how to add a new master service or worker service to an existing DolphinScheduler cluster.</p>
<pre><code> Attention: There cannot be more than one master service process or worker service process on a physical machine.
       If the physical machine which locate the expansion master or worker node has already installed the scheduled service, check the [1.4 Modify configuration] and edit the configuration file `conf/config/install_config.conf` on ** all ** nodes, add masters or workers parameter, and restart the scheduling cluster.
</code></pre>
<h3>Basic software installation</h3>
<ul>
<li>[required] <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK</a> (version 1.8+): must install, install and configure <code>JAVA_HOME</code> and <code>PATH</code> variables under <code>/etc/profile</code></li>
<li>[optional] If the expansion is a worker node, you need to consider whether to install an external client, such as Hadoop, Hive, Spark Client.</li>
</ul>
<pre><code class="language-markdown"> Attention: DolphinScheduler itself does not depend on Hadoop, Hive, Spark, but will only call their Client for the corresponding task submission.
</code></pre>
<h3>Get Installation Package</h3>
<ul>
<li>Check the version of DolphinScheduler used in your existing environment, and get the installation package of the corresponding version, if the versions are different, there may be compatibility problems.</li>
<li>Confirm the unified installation directory of other nodes, this article assumes that DolphinScheduler is installed in <code>/opt/</code> directory, and the full path is <code>/opt/dolphinscheduler</code>.</li>
<li>Please download the corresponding version of the installation package to the server installation directory, uncompress it and rename it to <code>dolphinscheduler</code> and store it in the <code>/opt</code> directory.</li>
<li>Add database dependency package, this document uses Mysql database, add <code>mysql-connector-java</code> driver package to <code>/opt/dolphinscheduler/lib</code> directory.</li>
</ul>
<pre><code class="language-shell"><span class="hljs-meta">#</span><span class="bash"> create the installation directory, please <span class="hljs-keyword">do</span> not create the installation directory <span class="hljs-keyword">in</span> /root, /home and other high privilege directories</span> 
mkdir -p /opt
cd /opt
<span class="hljs-meta">#</span><span class="bash"> decompress</span>
tar -zxvf apache-dolphinscheduler-&lt;version&gt;-bin.tar.gz -C /opt 
cd /opt
mv apache-dolphinscheduler-&lt;version&gt;-bin  dolphinscheduler
</code></pre>
<pre><code class="language-markdown"> Attention: You can copy the installation package directly from an existing environment to an expanded physical machine.
</code></pre>
<h3>Create Deployment Users</h3>
<ul>
<li>Create deployment user on <strong>all</strong> expansion machines, and make sure to configure sudo-free. If we plan to deploy scheduling on four expansion machines, ds1, ds2, ds3, and ds4, create deployment users on each machine is prerequisite.</li>
</ul>
<pre><code class="language-shell"><span class="hljs-meta">#</span><span class="bash"> to create a user, you need to <span class="hljs-built_in">log</span> <span class="hljs-keyword">in</span> with root and <span class="hljs-built_in">set</span> the deployment user name, modify it by yourself, the following take `dolphinscheduler` as an example:</span>
useradd dolphinscheduler;
<span class="hljs-meta">
#</span><span class="bash"> <span class="hljs-built_in">set</span> the user password, please change it by yourself, the following take `dolphinscheduler123` as an example</span>
echo &quot;dolphinscheduler123&quot; | passwd --stdin dolphinscheduler
<span class="hljs-meta">
#</span><span class="bash"> configure sudo password-free</span>
echo &#x27;dolphinscheduler  ALL=(ALL)  NOPASSWD: NOPASSWD: ALL&#x27; &gt;&gt; /etc/sudoers
sed -i &#x27;s/Defaults    requirett/#Defaults    requirett/g&#x27; /etc/sudoers

</code></pre>
<pre><code class="language-markdown"> Attention:
<span class="hljs-bullet"> -</span> Since it is <span class="hljs-code">`sudo -u {linux-user}`</span> to switch between different Linux users to run multi-tenant jobs, the deploying user needs to have sudo privileges and be password free.
<span class="hljs-bullet"> -</span> If you find the line <span class="hljs-code">`Default requiretty`</span> in the <span class="hljs-code">`/etc/sudoers`</span> file, please also comment it out.
<span class="hljs-bullet"> -</span> If have needs to use resource uploads, you also need to assign read and write permissions to the deployment user on <span class="hljs-code">`HDFS or MinIO`</span>.
</code></pre>
<h3>Modify Configuration</h3>
<ul>
<li>
<p>From an existing node such as <code>Master/Worker</code>, copy the configuration directory directly to replace the configuration directory in the new node. After finishing the file copy, check whether the configuration items are correct.</p>
<pre><code class="language-markdown">Highlights:
datasource.properties: database connection information 
zookeeper.properties: information for connecting zk 
common.properties: Configuration information about the resource store (if hadoop is set up, please check if the core-site.xml and hdfs-site.xml configuration files exist).
dolphinscheduler<span class="hljs-emphasis">_env.sh: environment Variables
</span></code></pre>
</li>
<li>
<p>Modify the <code>dolphinscheduler_env.sh</code> environment variable in the <code>bin/env/dolphinscheduler_env.sh</code> directory according to the machine configuration (the following is the example that all the used software install under <code>/opt/soft</code>)</p>
<pre><code class="language-shell">    export HADOOP_HOME=/opt/soft/hadoop
    export HADOOP_CONF_DIR=/opt/soft/hadoop/etc/hadoop
    # export SPARK_HOME1=/opt/soft/spark1
    export SPARK_HOME2=/opt/soft/spark2
    export PYTHON_HOME=/opt/soft/python
    export JAVA_HOME=/opt/soft/jav
    export HIVE_HOME=/opt/soft/hive
    export FLINK_HOME=/opt/soft/flink
    export DATAX_HOME=/opt/soft/datax/bin/datax.py
    export PATH=$HADOOP_HOME/bin:$SPARK_HOME2/bin:$PYTHON_HOME:$JAVA_HOME/bin:$HIVE_HOME/bin:$PATH:$FLINK_HOME/bin:$DATAX_HOME:$PATH

</code></pre>
<p><code>Attention: This step is very important, such as</code>JAVA_HOME<code>and</code>PATH<code>is necessary to configure if haven not used just ignore or comment out</code></p>
</li>
<li>
<p>Soft link the <code>JDK</code> to <code>/usr/bin/java</code> (still using <code>JAVA_HOME=/opt/soft/java</code> as an example)</p>
<pre><code class="language-shell">sudo ln -s /opt/soft/java/bin/java /usr/bin/java
</code></pre>
</li>
<li>
<p>Modify the configuration file <code>conf/config/install_config.conf</code> on the <strong>all</strong> nodes, synchronizing the following configuration.</p>
<ul>
<li>To add a new master node, you need to modify the IPs and masters parameters.</li>
<li>To add a new worker node, modify the IPs and workers parameters.</li>
</ul>
</li>
</ul>
<pre><code class="language-shell"><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">which</span> machines to deploy DS services on, separated by commas between multiple physical machines</span>
ips=&quot;ds1,ds2,ds3,ds4&quot;
<span class="hljs-meta">
#</span><span class="bash"> ssh port,default 22</span>
sshPort=&quot;22&quot;
<span class="hljs-meta">
#</span><span class="bash"> <span class="hljs-built_in">which</span> machine the master service is deployed on</span>
masters=&quot;existing master01,existing master02,ds1,ds2&quot;
<span class="hljs-meta">
#</span><span class="bash"> the worker service is deployed on <span class="hljs-built_in">which</span> machine, and specify the worker belongs to <span class="hljs-built_in">which</span> worker group, the following example of <span class="hljs-string">&quot;default&quot;</span> is the group name</span>
workers=&quot;existing worker01:default,existing worker02:default,ds3:default,ds4:default&quot;

</code></pre>
<ul>
<li>
<p>If the expansion is for worker nodes, you need to set the worker group, refer to the security of the <a href="./security.md">Worker grouping</a></p>
</li>
<li>
<p>On all new nodes, change the directory permissions so that the deployment user has access to the DolphinScheduler directory</p>
</li>
</ul>
<pre><code class="language-shell">sudo chown -R dolphinscheduler:dolphinscheduler dolphinscheduler
</code></pre>
<h3>Restart the Cluster and Verify</h3>
<ul>
<li>Restart the cluster</li>
</ul>
<pre><code class="language-shell"><span class="hljs-meta">#</span><span class="bash"> stop <span class="hljs-built_in">command</span>:</span>

bin/stop-all.sh # stop all services

bash bin/dolphinscheduler-daemon.sh stop master-server  # stop master service
bash bin/dolphinscheduler-daemon.sh stop worker-server  # stop worker service
bash bin/dolphinscheduler-daemon.sh stop api-server     # stop api    service
bash bin/dolphinscheduler-daemon.sh stop alert-server   # stop alert  service
<span class="hljs-meta">

#</span><span class="bash"> start <span class="hljs-built_in">command</span>::</span>
bin/start-all.sh # start all services

bash bin/dolphinscheduler-daemon.sh start master-server  # start master service
bash bin/dolphinscheduler-daemon.sh start worker-server  # start worker service
bash bin/dolphinscheduler-daemon.sh start api-server     # start api    service
bash bin/dolphinscheduler-daemon.sh start alert-server   # start alert  service

</code></pre>
<pre><code> Attention: When using `stop-all.sh` or `stop-all.sh`, if the physical machine execute the command is not configured to be ssh-free on all machines, it will prompt to enter the password
</code></pre>
<ul>
<li>After completing the script, use the <code>jps</code> command to see if every node service is started (<code>jps</code> comes with the <code>Java JDK</code>)</li>
</ul>
<pre><code>    MasterServer         ----- master service
    WorkerServer         ----- worker service
    ApiApplicationServer ----- api    service
    AlertServer          ----- alert  service
</code></pre>
<p>After successful startup, you can view the logs, which are stored in the <code>logs</code> folder.</p>
<pre><code class="language-Log"> logs/
    â”œâ”€â”€ dolphinscheduler-alert-server.log
    â”œâ”€â”€ dolphinscheduler-master-server.log
    â”œâ”€â”€ dolphinscheduler-worker-server.log
    â”œâ”€â”€ dolphinscheduler-api-server.log
</code></pre>
<p>If the above services start normally and the scheduling system page is normal, check whether there is an expanded Master or Worker service in the [Monitor] of the web system. If it exists, the expansion is complete.</p>
<hr>
<h2>Reduction</h2>
<p>The reduction is to reduce the master or worker services for the existing DolphinScheduler cluster.
There are two steps for shrinking. After performing the following two steps, the shrinking operation can be completed.</p>
<h3>Stop the Service on the Scaled-Down Node</h3>
<ul>
<li>If you are scaling down the master node, identify the physical machine where the master service is located, and stop the master service on the physical machine.</li>
<li>If scale down the worker node, determine the physical machine where the worker service scale down and stop the worker services on the physical machine.</li>
</ul>
<pre><code class="language-shell"><span class="hljs-meta">#</span><span class="bash"> stop <span class="hljs-built_in">command</span>:</span>
bin/stop-all.sh # stop all services

bash bin/dolphinscheduler-daemon.sh stop master-server  # stop master service
bash bin/dolphinscheduler-daemon.sh stop worker-server  # stop worker service
bash bin/dolphinscheduler-daemon.sh stop api-server     # stop api    service
bash bin/dolphinscheduler-daemon.sh stop alert-server   # stop alert  service
<span class="hljs-meta">

#</span><span class="bash"> start <span class="hljs-built_in">command</span>:</span>
bin/start-all.sh # start all services

bash bin/dolphinscheduler-daemon.sh start master-server # start master service
bash bin/dolphinscheduler-daemon.sh start worker-server # start worker service
bash bin/dolphinscheduler-daemon.sh start api-server    # start api    service
bash bin/dolphinscheduler-daemon.sh start alert-server  # start alert  service

</code></pre>
<pre><code> Attention: When using `stop-all.sh` or `stop-all.sh`, if the machine without the command is not configured to be ssh-free for all machines, it will prompt to enter the password
</code></pre>
<ul>
<li>After the script is completed, use the <code>jps</code> command to see if every node service was successfully shut down (<code>jps</code> comes with the <code>Java JDK</code>)</li>
</ul>
<pre><code>    MasterServer         ----- master service
    WorkerServer         ----- worker service
    ApiApplicationServer ----- api    service
    AlertServer          ----- alert  service
</code></pre>
<p>If the corresponding master service or worker service does not exist, then the master or worker service is successfully shut down.</p>
<h3>Modify the Configuration File</h3>
<ul>
<li>
<p>modify the configuration file <code>conf/config/install_config.conf</code> on the <strong>all</strong> nodes, synchronizing the following configuration.</p>
<ul>
<li>to scale down the master node, modify the IPs and masters parameters.</li>
<li>to scale down worker nodes, modify the IPs and workers parameters.</li>
</ul>
</li>
</ul>
<pre><code class="language-shell"><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">which</span> machines to deploy DS services on, <span class="hljs-string">&quot;localhost&quot;</span> <span class="hljs-keyword">for</span> this machine</span>
ips=&quot;ds1,ds2,ds3,ds4&quot;
<span class="hljs-meta">
#</span><span class="bash"> ssh port,default: 22</span>
sshPort=&quot;22&quot;
<span class="hljs-meta">
#</span><span class="bash"> <span class="hljs-built_in">which</span> machine the master service is deployed on</span>
masters=&quot;existing master01,existing master02,ds1,ds2&quot;
<span class="hljs-meta">
#</span><span class="bash"> The worker service is deployed on <span class="hljs-built_in">which</span> machine, and specify <span class="hljs-built_in">which</span> worker group this worker belongs to, the following example of <span class="hljs-string">&quot;default&quot;</span> is the group name</span>
workers=&quot;existing worker01:default,existing worker02:default,ds3:default,ds4:default&quot;

</code></pre>
</div></section><footer class="footer-container"><div class="footer-body"><div><h3>About us</h3><h4>Do you need feedback? Please contact us through the following ways.</h4></div><div class="contact-container"><ul><li><a href="/en-us/community/development/subscribe.html"><img class="img-base" src="/img/emailgray.png"/><img class="img-change" src="/img/emailblue.png"/><p>Email List</p></a></li><li><a href="https://twitter.com/dolphinschedule"><img class="img-base" src="/img/twittergray.png"/><img class="img-change" src="/img/twitterblue.png"/><p>Twitter</p></a></li><li><a href="https://stackoverflow.com/questions/tagged/apache-dolphinscheduler"><img class="img-base" src="/img/stackoverflow.png"/><img class="img-change" src="/img/stackoverflow-selected.png"/><p>Stack Overflow</p></a></li><li><a href="https://s.apache.org/dolphinscheduler-slack"><img class="img-base" src="/img/slack.png"/><img class="img-change" src="/img/slack-selected.png"/><p>Slack</p></a></li></ul></div><div class="cols-container"><div class="docu-container"><h4>Documentation</h4><ul><li><a href="/en-us/development/architecture-design.html"><p>Overview</p></a></li><li><a href="/en-us/docs/latest/user_doc/guide/quick-start.html"><p>Quick start</p></a></li><li><a href="/en-us/development/development-environment-setup.html"><p>Developer guide</p></a></li></ul></div><div></div><div class="asf-container"><h4>ASF</h4><ul><li><a href="http://www.apache.org"><p>Foundation</p></a></li><li><a href="http://www.apache.org/licenses/"><p>License</p></a></li><li><a href="http://www.apache.org/events/current-event"><p>Events</p></a></li><li><a href="http://www.apache.org/foundation/sponsorship.html"><p>Sponsorship</p></a></li><li><a href="http://www.apache.org/foundation/thanks.html"><p>Thanks</p></a></li></ul></div></div><div class="copyright"><span>Copyright Â© 2019-2021 The Apache Software Foundation. Apache DolphinScheduler, DolphinScheduler, and its feather logo are trademarks of The Apache Software Foundation.</span></div></div></footer></div></div>
  <script src="/asset/js/react/react-with-addons.min.js"></script>
  <script src="/asset/js/react/react-dom.min.js"></script>
  <script>window.rootPath = '';</script>
  <script src="/build/vendor.36e600e.js"></script>
  <script src="/build/docs.md.f7ad2b7.js"></script>
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d6bc736fd9885d9a5dc938425ac062ad";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-899J8PYKJZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-899J8PYKJZ');
  </script>
</body>
</html>