{
  "filename": "datasync.md",
  "__html": "<h1>DataSync Node</h1>\n<h2>Overview</h2>\n<p><a href=\"https://console.aws.amazon.com/datasync/\">AWS DataSync</a> is an online data transfer service that simplifies, automates, and accelerates moving data between on-premises storage systems and AWS Storage services, as well as between AWS Storage services.</p>\n<p>DataSync can copy data to and from:</p>\n<ul>\n<li>Network File System (NFS) file servers</li>\n<li>Server Message Block (SMB) file servers</li>\n<li>Hadoop Distributed File System (HDFS)</li>\n<li>Object storage systems</li>\n<li>Amazon Simple Storage Service (Amazon S3) buckets</li>\n<li>Amazon EFS file systems</li>\n<li>Amazon FSx for Windows File Server file systems</li>\n<li>Amazon FSx for Lustre file systems</li>\n<li>Amazon FSx for OpenZFS file systems</li>\n<li>Amazon FSx for NetApp ONTAP file systems</li>\n<li>AWS Snowcone devices</li>\n</ul>\n<p>The follow shows the DolphinScheduler DataSync task plugin features:</p>\n<ul>\n<li>Create an AWS DataSync task and execute, continuously get the execution status until the task completes.</li>\n</ul>\n<h2>Create Task</h2>\n<ul>\n<li>Click <code>Project -&gt; Management-Project -&gt; Name-Workflow Definition</code>, and click the &quot;Create Workflow&quot; button to enter the\nDAG editing page.</li>\n<li>Drag from the toolbar <img src=\"/img/tasks/icons/datasync.png\" width=\"15\"/> task node to canvas.</li>\n</ul>\n<h2>Task Example</h2>\n<p>First, introduce some general parameters of DolphinScheduler:</p>\n<ul>\n<li><strong>Node name</strong>: The name of the task. Node names within the same workflow must be unique.</li>\n<li><strong>Run flag</strong>: Indicating whether to schedule the task. If you do not need to execute the task, you can turn on the <code>Prohibition execution</code> switch.</li>\n<li><strong>Description</strong>: Describing the function of this node.</li>\n<li><strong>Task priority</strong>: When the number of the worker threads is insufficient, the worker executes task according to the priority. When two tasks have the same priority, the worker will execute them in <code>first come first served</code> fashion.</li>\n<li><strong>Worker group</strong>: Machines which execute the tasks. If you choose <code>default</code>, scheduler will send the task to a random worker.</li>\n<li><strong>Task group name</strong>: Resource group of tasks. It will not take effect if not configured.</li>\n<li><strong>Environment name</strong>: Environment to execute the task.</li>\n<li><strong>Number of failed retries</strong>: The number of task retries for failures. You could select it by drop-down menu or fill it manually.</li>\n<li><strong>Failure retry interval</strong>: Interval of task retries for failures. You could select it by drop-down menu or fill it manually.</li>\n<li><strong>CPU quota</strong>: Assign the specified CPU time quota to the task executed. Takes a percentage value. Default -1 means unlimited. For example, the full CPU load of one core is 100%, and that of 16 cores is 1600%. You could configure it by <a href=\"../../architecture/configuration.md\">task.resource.limit.state</a>.</li>\n<li><strong>Max memory</strong>: Assign the specified max memory to the task executed. Exceeding this limit will trigger oom to be killed and will not automatically retry. Takes an MB value. Default -1 means unlimited. You could configure it by <a href=\"../../architecture/configuration.md\">task.resource.limit.state</a>.</li>\n<li><strong>Timeout alarm</strong>: Alarm for task timeout. When the task exceeds the &quot;timeout threshold&quot;, an alarm email will send.</li>\n<li><strong>Delayed execution time</strong>: The time that a task delays for execution in minutes.</li>\n<li><strong>Resources</strong>: \tResources which your task node uses.</li>\n<li><strong>Predecessor task</strong>: \tThe upstream task of the current task node.</li>\n</ul>\n<p>Here are some specific parameters for the DataSync plugin:</p>\n<ul>\n<li>\n<p><strong>name</strong>: Task name</p>\n</li>\n<li>\n<p><strong>destinationLocationArn</strong>: The Amazon Resource Name (ARN) of an AWS storage resource's location. Visit <a href=\"https://docs.aws.amazon.com/datasync/latest/userguide/API_CreateTask.html#DataSync-CreateTask-request-DestinationLocationArn\">AWS API</a></p>\n</li>\n<li>\n<p><strong>sourceLocationArn</strong>: The Amazon Resource Name (ARN) of the source location for the task. Visit <a href=\"https://docs.aws.amazon.com/datasync/latest/userguide/API_CreateTask.html#DataSync-CreateTask-request-SourceLocationArn\">AWS API</a></p>\n</li>\n<li>\n<p><strong>cloudWatchLogGroupArn</strong>: The Amazon Resource Name (ARN) of the Amazon CloudWatch log group that is used to monitor and log events in the task. Visit <a href=\"https://docs.aws.amazon.com/datasync/latest/userguide/API_CreateTask.html#DataSync-CreateTask-request-CloudWatchLogGroupArn\">AWS API</a></p>\n<p>or</p>\n</li>\n<li>\n<p><strong>json</strong>: JSON parameters to construct datasync task, and supports parameters like options, etc. Visit: [AWS CreateTask API] çš„ Request Syntax (<a href=\"https://docs.aws.amazon.com/datasync/latest/userguide/API_CreateTask.html\">https://docs.aws.amazon.com/datasync/latest/userguide/API_CreateTask.html</a>)</p>\n</li>\n<li>\n<p>The following shows the task plugin example:</p>\n</li>\n</ul>\n<p><img src=\"/img/tasks/demo/datasync_task02.png\" alt=\"datasync\"></p>\n<h2>Environment to prepare</h2>\n<p>The task requires AWS configurations, modify the value in file <code>common.properties</code></p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-comment\"># Defines AWS access key and is required</span>\n<span class=\"hljs-string\">resource.aws.access.key.id=&lt;YOUR</span> <span class=\"hljs-string\">AWS</span> <span class=\"hljs-string\">ACCESS</span> <span class=\"hljs-string\">KEY&gt;</span>\n<span class=\"hljs-comment\"># Defines AWS secret access key and is required</span>\n<span class=\"hljs-string\">resource.aws.secret.access.key=&lt;YOUR</span> <span class=\"hljs-string\">AWS</span> <span class=\"hljs-string\">SECRET</span> <span class=\"hljs-string\">KEY&gt;</span>\n<span class=\"hljs-comment\"># Defines  AWS Region to use and is required</span>\n<span class=\"hljs-string\">resource.aws.region=&lt;AWS</span> <span class=\"hljs-string\">REGION&gt;</span>\n</code></pre>\n",
  "link": "/dist/en-us/docs/dev/user_doc/guide/task/datasync.html",
  "meta": {}
}