{
  "filename": "map-reduce.md",
  "__html": "<h1>MapReduce Node</h1>\n<h2>Overview</h2>\n<p>MapReduce(MR) task type used for executing MapReduce programs. For MapReduce nodes, the worker submits the task by using the Hadoop command <code>hadoop jar</code>. See <a href=\"https://hadoop.apache.org/docs/r3.2.4/hadoop-project-dist/hadoop-common/CommandsManual.html#jar\">Hadoop Command Manual</a> for more details.</p>\n<h2>Create Task</h2>\n<ul>\n<li>Click <code>Project Management -&gt; Project Name -&gt; Workflow Definition</code>, and click the <code>Create Workflow</code> button to enter the DAG editing page.</li>\n<li>Drag from the toolbar <img src=\"/img/tasks/icons/mr.png\" width=\"15\"/> to the canvas.</li>\n</ul>\n<h2>Task Parameters</h2>\n<ul>\n<li>Please refer to <a href=\"appendix.md#default-task-parameters\">DolphinScheduler Task Parameters Appendix</a> for default parameters.</li>\n</ul>\n<h3>General</h3>\n<table>\n<thead>\n<tr>\n<th><strong>Parameter</strong></th>\n<th><strong>Description</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Custom parameters</td>\n<td>It is a local user-defined parameter for MapReduce, and will replace the content with <code>${variable}</code> in the script.</td>\n</tr>\n</tbody>\n</table>\n<h3>JAVA or SCALA Program</h3>\n<table>\n<thead>\n<tr>\n<th><strong>Parameter</strong></th>\n<th><strong>Description</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Program type</td>\n<td>Select JAVA or SCALA program.</td>\n</tr>\n<tr>\n<td>The class of the main function</td>\n<td>The <strong>full path</strong> of Main Class, the entry point of the MapReduce program.</td>\n</tr>\n<tr>\n<td>Main jar package</td>\n<td>The jar package of the MapReduce program.</td>\n</tr>\n<tr>\n<td>Task name</td>\n<td>MapReduce task name.</td>\n</tr>\n<tr>\n<td>Command line parameters</td>\n<td>Set the input parameters of the MapReduce program and support the substitution of custom parameter variables.</td>\n</tr>\n<tr>\n<td>Other parameters</td>\n<td>Support <code>-D</code>, <code>-files</code>, <code>-libjars</code>, <code>-archives</code> format.</td>\n</tr>\n<tr>\n<td>User-defined parameter</td>\n<td>It is a local user-defined parameter for MapReduce, and will replace the content with <code>${variable}</code> in the script.</td>\n</tr>\n</tbody>\n</table>\n<h3>Python Program</h3>\n<table>\n<thead>\n<tr>\n<th><strong>Parameter</strong></th>\n<th><strong>Description</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Program type</td>\n<td>Select Python language.</td>\n</tr>\n<tr>\n<td>Main jar package</td>\n<td>The Python jar package for running MapReduce.</td>\n</tr>\n<tr>\n<td>Other parameters</td>\n<td>Support <code>-D</code>, <code>-mapper</code>, <code>-reducer,</code> <code>-input</code> <code>-output</code> format, and you can set the input of user-defined parameters, such as:<ul><li><code>-mapper &quot;mapper.py 1&quot;</code> <code>-file mapper.py</code> <code>-reducer reducer.py</code> <code>-file reducer.py</code> <code>â€“input /journey/words.txt</code> <code>-output /journey/out/mr/${currentTimeMillis}</code></li><li>The <code>mapper.py 1</code> after <code>-mapper</code> is two parameters, the first parameter is <code>mapper.py</code>, and the second parameter is <code>1</code>. </li></ul></td>\n</tr>\n<tr>\n<td>User-defined parameter</td>\n<td>It is a local user-defined parameter for MapReduce, and will replace the content with <code>${variable}</code> in the script.</td>\n</tr>\n</tbody>\n</table>\n<h2>Task Example</h2>\n<h3>Execute the WordCount Program</h3>\n<p>This example is a common introductory type of MapReduce application, which used to count the number of identical words in the input text.</p>\n<h4>Configure the MapReduce Environment in DolphinScheduler</h4>\n<p>If you are using the MapReduce task type in a production environment, it is necessary to configure the required environment first. The following is the configuration file: <code>bin/env/dolphinscheduler_env.sh</code>.</p>\n<p><img src=\"/img/tasks/demo/mr_task01.png\" alt=\"mr_configure\"></p>\n<h4>Upload the Main Package</h4>\n<p>When using the MapReduce task node, you need to use the Resource Centre to upload the jar package for the execution. Refer to the <a href=\"../resource/configuration.md\">resource centre</a>.</p>\n<p>After finish the Resource Centre configuration, upload the required target files directly by dragging and dropping.</p>\n<p><img src=\"/img/tasks/demo/upload_jar.png\" alt=\"resource_upload\"></p>\n<h4>Configure MapReduce Nodes</h4>\n<p>Configure the required content according to the parameter descriptions above.</p>\n<p><img src=\"/img/tasks/demo/mr_task02.png\" alt=\"demo-mr-simple\"></p>\n",
  "link": "/dist/en-us/docs/dev/user_doc/guide/task/map-reduce.html",
  "meta": {}
}